(self.webpackChunk=self.webpackChunk||[]).push([[7898],{57898:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var i=t(78155),s=t(88903),o=t(80219),a=t(80987),n=t(82564),l=t(71470),u=t(2903),p=t(73574),c=t(4169),y=t(92858),d=t(52737),f=t(20736),m=t(98548);function B(e){return d.default.fromJSON(e).features.map((e=>e.geometry))}t(20215),t(31531),t(29126),t(65990),t(89710),t(82906),t(40130),t(52957),t(6585),t(3621),t(63358),t(62121),t(81135),t(94527),t(17762),t(60816),t(61888),t(29832),t(31516),t(52109),t(47365),t(67079);let h=class extends i.a{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return B(e)}readIncidents(e){return B(e)}readPointBarriers(e,r){return B(r.barriers)}readPolylineBarriers(e){return B(e)}readPolygonBarriers(e){return B(e)}readRoutes(e){return(r=e).features.map((e=>{const t=y.k.fromJSON(r.spatialReference),i=p.h.fromJSON(e);return(0,o.r)(i.geometry)&&(i.geometry.spatialReference=t),i}));var r}};(0,i.e)([(0,s.y)({type:[n.c]})],h.prototype,"directions",void 0),(0,i.e)([(0,s.y)({type:[f.b]})],h.prototype,"facilities",void 0),(0,i.e)([(0,c.e)("facilities")],h.prototype,"readFacilities",null),(0,i.e)([(0,s.y)({type:[f.b]})],h.prototype,"incidents",void 0),(0,i.e)([(0,c.e)("incidents")],h.prototype,"readIncidents",null),(0,i.e)([(0,s.y)({type:[n.i]})],h.prototype,"messages",void 0),(0,i.e)([(0,s.y)({type:[f.b]})],h.prototype,"pointBarriers",void 0),(0,i.e)([(0,c.e)("pointBarriers",["barriers"])],h.prototype,"readPointBarriers",null),(0,i.e)([(0,s.y)({type:[m.m]})],h.prototype,"polylineBarriers",void 0),(0,i.e)([(0,c.e)("polylineBarriers")],h.prototype,"readPolylineBarriers",null),(0,i.e)([(0,s.y)({type:[m.j]})],h.prototype,"polygonBarriers",void 0),(0,i.e)([(0,c.e)("polygonBarriers")],h.prototype,"readPolygonBarriers",null),(0,i.e)([(0,s.y)({type:[p.h]})],h.prototype,"routes",void 0),(0,i.e)([(0,c.e)("routes")],h.prototype,"readRoutes",null),h=(0,i.e)([(0,s.n)("esri.rest.support.ClosestFacilitySolveResult")],h);var g=h;const b=(0,n.o)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});let v=class extends u.p{constructor(e){super(e),this.url=null}solve(e,r){return async function(e,r,t){const i=[],s=[],o={},p={},c=(0,u.e)(e);return r.incidents&&r.incidents.features&&(0,n.u)(r.incidents.features,s,"incidents.features",o),r.facilities&&r.facilities.features&&(0,n.u)(r.facilities.features,s,"facilities.features",o),r.pointBarriers&&r.pointBarriers.features&&(0,n.u)(r.pointBarriers.features,s,"pointBarriers.features",o),r.polylineBarriers&&r.polylineBarriers.features&&(0,n.u)(r.polylineBarriers.features,s,"polylineBarriers.features",o),r.polygonBarriers&&r.polygonBarriers.features&&(0,n.u)(r.polygonBarriers.features,s,"polygonBarriers.features",o),(0,l.L)(s).then((e=>{for(const r in o){const t=o[r];i.push(r),p[r]=e.slice(t[0],t[1])}return(0,n.d)(p,i)?(0,n.a)(c.path):Promise.resolve({dontCheck:!0})})).then((e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||(0,n.p)(p,i);for(const e in p)p[e].forEach(((t,i)=>{r.get(e)[i].geometry=t}));let s={query:{...c.query,f:"json",...b.toQueryParams(r)}};return t&&(s={...t,...s}),(0,a.L)(`${c.path}/solveClosestFacility`,s)})).then((e=>g.fromJSON(e.data)))}(this.url,e,r)}};(0,i.e)([(0,s.y)()],v.prototype,"url",void 0),v=(0,i.e)([(0,s.n)("esri.tasks.ClosestFacilityTask")],v);const k=v}}]);