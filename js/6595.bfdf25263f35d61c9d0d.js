(self.webpackChunk=self.webpackChunk||[]).push([[6595],{76595:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(78155),s=i(88903),r=(i(80219),i(70568)),a=i(3429),l=i(69863);i(20215),i(60816),i(58404),i(98548),i(20736),i(4169),i(92858),i(12046),i(95186),i(71391),i(83731),i(40130),i(80987),i(31531),i(36845),i(55688),i(15015),i(31516),i(95629),i(9612),i(52109),i(6585),i(3621),i(63358),i(76326),i(4807),i(17762),i(30316),i(29126),i(61888),i(18559),i(32769),i(42296),i(17331),i(41290),i(62121),i(91236),i(82906),i(52957),i(82361),i(65352),i(71394),i(73574),i(81135),i(94527),i(29832),i(89710),i(13564),i(95559),i(68631),i(56803),i(18143),i(47365),i(67079),i(2903),i(85570),i(71470),i(80136),i(91507),i(85289),i(98843),i(91790),i(52737),i(29831),i(16040),i(34396),i(5250),i(49878),i(84271),i(48643),i(4618),i(80657),i(94449),i(97325),i(3629),i(79506),i(26779),i(98420),i(54223),i(8725),i(51218),i(21793),i(13895),i(15576),i(28941),i(19438),i(15022),i(56416),i(92758),i(78435),i(53902),i(40481),i(78730),i(2570),i(71666),i(72257),i(41822),i(99987),i(11838),i(39068),i(24776),i(67726),i(59312),i(93875),i(14215),i(75200),i(6783),i(29218),i(26799),i(43356),i(86897),i(5772),i(79766),i(2098),i(78191),i(79061),i(80163),i(1045),i(334),i(93242),i(87405);class o{constructor(){this.gradient=null,this.height=512,this.width=512}render(e){(0,r.a)(e,512,this.intensities,this.gradient,this.minPixelIntensity,this.maxPixelIntensity)}}let h=class extends l.o{constructor(e){super(e),this._intensityInfo={minPixelIntensity:0,maxPixelIntensity:0},this.featuresView={attributeView:{initialize:()=>{},requestUpdate:()=>{}},requestRender:()=>{}},this._container=new a.n(e.tileInfoView)}createTile(e){const t=this._container.createTile(e);return this.tileInfoView.getTileCoords(t.bitmap,e),t.bitmap.resolution=this.tileInfoView.getTileResolution(e),t}onConfigUpdate(){const e=this.layer.renderer;if("heatmap"===e.type){const{minPixelIntensity:t,maxPixelIntensity:i}=e;this._intensityInfo.minPixelIntensity=t,this._intensityInfo.maxPixelIntensity=i,this._gradient=(0,r.n)(e.toJSON()),this.tiles.forEach((e=>{const n=e.bitmap.source;n&&(n.minPixelIntensity=t,n.maxPixelIntensity=i,n.gradient=this._gradient,e.bitmap.invalidateTexture())}))}}hitTest(){return Promise.resolve([])}install(e){e.addChild(this._container)}uninstall(e){this._container.removeAllChildren(),e.removeChild(this._container)}disposeTile(e){this._container.removeChild(e),e.destroy()}supportsRenderer(e){return e&&"heatmap"===e.type}onTileData(e){const t=this.tiles.get(e.tileKey);if(!t)return;const i=e.intensityInfo,{minPixelIntensity:n,maxPixelIntensity:s}=this._intensityInfo,r=t.bitmap.source||new o;r.intensities=i&&i.matrix||null,r.minPixelIntensity=n,r.maxPixelIntensity=s,r.gradient=this._gradient,t.bitmap.source=r,this._container.addChild(t),this.requestUpdate()}onTileError(e){console.error(e)}lockGPUUploads(){}unlockGPUUploads(){}};h=(0,n.e)([(0,s.n)("esri.views.2d.layers.features.tileRenderers.HeatmapTileRenderer")],h);const d=h}}]);