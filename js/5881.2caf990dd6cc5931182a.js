(self.webpackChunk=self.webpackChunk||[]).push([[5881],{75881:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>o});var t=i(78155),r=i(80219),l=i(36845),a=i(88903),n=i(7022),y=i(31393);i(20215),i(73574),i(80987),i(98548),i(20736),i(4169),i(92858),i(31531),i(82906),i(40130),i(52957),i(29126),i(6585),i(3621),i(63358),i(62121),i(81135),i(94527),i(17762),i(60816),i(61888),i(29832),i(31516),i(52109),i(89710),i(8725),i(52737),i(47365),i(67079),i(18143),i(91236),i(43356),i(31280),i(1045),i(75200),i(334),i(93242),i(83991),i(34396),i(5250),i(49878),i(84271),i(48643),i(30316),i(4618),i(65352),i(80657),i(94449),i(97325),i(3629),i(5772),i(14215),i(78191),i(13513),i(50388),i(58404),i(24776),i(67726),i(71470),i(76119),i(60978),i(93443),i(13564),i(29218),i(26779),i(47473),i(13895),i(81578),i(50822),i(32769),i(83731),i(71391),i(55688),i(15015),i(95629),i(9612),i(76326),i(4807),i(18559),i(42296),i(17331),i(41290),i(82361),i(71394),i(95559),i(68631),i(56803),i(2903),i(85570),i(80136),i(91507),i(85289),i(98843),i(91790),i(29831),i(16040),i(79506),i(98420),i(54223),i(51218),i(21793),i(15576),i(28941),i(19438),i(15022),i(56416),i(92758),i(78435),i(53902),i(40481),i(78730),i(2570),i(71666),i(72257),i(41822),i(99987),i(11838),i(39068),i(95186),i(59312),i(67390);let u=class extends n.default{initialize(){this.handles.add([(0,l.d)(this.view,"viewpoint",(()=>this._update()))])}_injectOverrides(e){const s=super._injectOverrides(e),i=this.view.scale,t=this.layer.sublayers.filter((e=>function(e,s){return!e.visible||0!==e.minScale&&s>e.minScale||0!==e.maxScale&&s<e.maxScale}(e,i))).map((e=>e.subtypeCode));if(!t.length)return s;const l=`NOT ${this.layer.subtypeField} IN (${t.join(",")})`;if((0,r.t)(s))return new y.y({where:l});const a=s.clone();return a.where+=` AND ${l}`,a}_setLayersForFeature(e){const s=this.layer.fieldsIndex.get(this.layer.subtypeField),i=e.attributes[s.name],t=this.layer.sublayers.find((e=>e.subtypeCode===i));e.layer=t,e.sourceLayer=this.layer}_createSchemaConfig(){const e={subtypeField:this.layer.subtypeField,sublayers:Array.from(this.layer.sublayers).map((e=>({featureReduction:null,geometryType:this.layer.geometryType,labelingInfo:e.labelingInfo,labelsVisible:e.labelsVisible,renderer:e.renderer,subtypeCode:e.subtypeCode})))},s=this.layer.sublayers.map((e=>e.subtypeCode)).join(","),i=this.layer.sublayers.length?`${this.layer.subtypeField} IN (${s})`:"1=2";let t=this.layer.definitionExpression?this.layer.definitionExpression+" AND ":"";return t+=i,{...super._createSchemaConfig(),...e,definitionExpression:t}}};u=(0,t.e)([(0,a.n)("esri.views.2d.layers.SubtypeGroupLayerView2D")],u);const o=u}}]);