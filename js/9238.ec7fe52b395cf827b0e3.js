(self.webpackChunk=self.webpackChunk||[]).push([[9238],{49238:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>k});var s=t(78155),i=t(88903),a=t(80219),o=t(80987),n=t(82564),l=t(71470),u=t(2903),p=t(73574),y=t(4169),c=t(92858),f=t(89710),d=t(20736),B=t(98548);function h(e){return e.features.map((r=>{const t=c.k.fromJSON(e.spatialReference),s=p.h.fromJSON(r);return(0,a.f)(s.geometry).spatialReference=t,s}))}function v(e){return e.features.map((r=>(r.geometry.spatialReference=e.spatialReference,(0,f.p)(r.geometry))))}t(20215),t(31531),t(29126),t(52737),t(47365),t(52957),t(67079),t(82906),t(40130),t(6585),t(3621),t(63358),t(62121),t(81135),t(94527),t(17762),t(60816),t(61888),t(29832),t(31516),t(52109),t(65990);let g=class extends s.a{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return v(e)}readPointBarriers(e,r){return v(r.barriers)}readPolylineBarriers(e){return v(e)}readPolygonBarriers(e){return v(e)}readIncidents(e,r){return h(r.saPolylines)}readServiceAreaPolygons(e,r){return h(r.saPolygons)}};(0,s.e)([(0,i.y)({type:[d.b]})],g.prototype,"facilities",void 0),(0,s.e)([(0,y.e)("facilities")],g.prototype,"readFacilities",null),(0,s.e)([(0,i.y)({type:[n.i]})],g.prototype,"messages",void 0),(0,s.e)([(0,i.y)({type:[d.b]})],g.prototype,"pointBarriers",void 0),(0,s.e)([(0,y.e)("pointBarriers",["barriers"])],g.prototype,"readPointBarriers",null),(0,s.e)([(0,i.y)({type:[B.m]})],g.prototype,"polylineBarriers",void 0),(0,s.e)([(0,y.e)("polylineBarriers")],g.prototype,"readPolylineBarriers",null),(0,s.e)([(0,i.y)({type:[B.j]})],g.prototype,"polygonBarriers",void 0),(0,s.e)([(0,y.e)("polygonBarriers")],g.prototype,"readPolygonBarriers",null),(0,s.e)([(0,i.y)({type:[p.h]})],g.prototype,"serviceAreaPolylines",void 0),(0,s.e)([(0,y.e)("serviceAreaPolylines",["saPolylines"])],g.prototype,"readIncidents",null),(0,s.e)([(0,i.y)({type:[p.h]})],g.prototype,"serviceAreaPolygons",void 0),(0,s.e)([(0,y.e)("serviceAreaPolygons",["saPolygons"])],g.prototype,"readServiceAreaPolygons",null),g=(0,s.e)([(0,i.n)("esri.rest.support.ServiceAreaSolveResult")],g);var m=g;const P=(0,n.o)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});let A=class extends u.p{constructor(e){super(e),this.url=null}solve(e,r){return async function(e,r,t){const s=[],i=[],a={},p={},y=(0,u.e)(e);return r.facilities&&r.facilities.features&&(0,n.u)(r.facilities.features,i,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,n.u)(r.pointBarriers.features,i,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,n.u)(r.polylineBarriers.features,i,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,n.u)(r.polygonBarriers.features,i,"polygonBarriers.features",a),(0,l.L)(i).then((e=>{for(const r in a){const t=a[r];s.push(r),p[r]=e.slice(t[0],t[1])}return(0,n.d)(p,s)?(0,n.a)(y.path).catch((()=>({dontCheck:!0}))):Promise.resolve({dontCheck:!0})})).then((e=>{("dontCheck"in e?e.dontCheck:e.hasZ)||(0,n.p)(p,s);for(const e in p)p[e].forEach(((t,s)=>{r.get(e)[s].geometry=t}));let i={query:{...y.query,f:"json",...P.toQueryParams(r)}};return t&&(i={...t,...i}),(0,o.L)(`${y.path}/solveServiceArea`,i)})).then((e=>m.fromJSON(e.data)))}(this.url,e,r)}};(0,s.e)([(0,i.y)()],A.prototype,"url",void 0),A=(0,s.e)([(0,i.n)("esri.tasks.ServiceAreaTask")],A);const k=A}}]);