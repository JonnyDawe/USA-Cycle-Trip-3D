(self.webpackChunk=self.webpackChunk||[]).push([[3576],{33576:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(78155),i=r(88903),a=(r(80219),r(93875)),n=(r(14215),r(80163)),d=r(31280),h=r(2695);r(20215),r(60816),r(26799),r(43356),r(86897),r(5772),r(79766),r(71391),r(83731),r(40130),r(80987),r(98548),r(20736),r(4169),r(92858),r(31531),r(36845),r(55688),r(15015),r(31516),r(95629),r(9612),r(52109),r(6585),r(3621),r(63358),r(76326),r(4807),r(17762),r(30316),r(29126),r(61888),r(18559),r(32769),r(42296),r(17331),r(41290),r(62121),r(91236),r(82906),r(52957),r(82361),r(65352),r(71394),r(73574),r(81135),r(94527),r(29832),r(89710),r(13564),r(95559),r(68631),r(56803),r(18143),r(47365),r(67079),r(2903),r(85570),r(71470),r(80136),r(91507),r(85289),r(98843),r(91790),r(52737),r(29831),r(16040),r(34396),r(5250),r(49878),r(84271),r(48643),r(4618),r(80657),r(94449),r(97325),r(3629),r(79506),r(26779),r(98420),r(54223),r(8725),r(51218),r(21793),r(13895),r(15576),r(28941),r(19438),r(15022),r(56416),r(92758),r(78435),r(53902),r(40481),r(78730),r(2570),r(71666),r(72257),r(41822),r(99987),r(11838),r(39068),r(24776),r(95186),r(67726),r(59312),r(2098),r(78191),r(1045),r(75200),r(334),r(93242),r(87405),r(50822);class o extends n.o{constructor(){super(...arguments),this._lastWidth=0,this._lastHeight=0,this.requiresDedicatedFBO=!1}dispose(){this._renderTarget&&(this._renderTarget.dispose(),this._renderTarget=null)}doRender(e){const t=this.createRenderParams(e),{context:r,painter:s,profiler:i}=t;this._prevFBO=r.getBoundFramebufferObject(),i.recordContainerStart(this.name);const a=this._getFbo(t),n=s.getRenderTarget();r.bindFramebuffer(a),s.setRenderTarget(a),r.setDepthWriteEnabled(!0),r.setColorMask(!0,!0,!0,!0),r.setClearColor(0,0,0,0),r.setClearDepth(1),r.clear(r.gl.COLOR_BUFFER_BIT|r.gl.DEPTH_BUFFER_BIT),r.setDepthWriteEnabled(!1);for(const t of this.children)t.beforeRender(e);for(const e of this.children)e.processRender(t);for(const t of this.children)t.afterRender(e);s.setRenderTarget(n),r.bindFramebuffer(this._prevFBO),s.beforeRenderLayer(t,this._clippingInfos?255:0,this.computedOpacity),r.setStencilTestEnabled(!1),r.setStencilWriteMask(0),s.blitTexture(r,a.colorTexture,9728),s.compositeLayer(t,this.computedOpacity),i.recordContainerEnd()}createRenderParams(e){return{...super.createRenderParams(e),blendMode:this.blendMode,effects:this.computedEffects,globalOpacity:1}}_getFbo(e){const{context:t,painter:r}=e,{width:s,height:i}=t.getViewport();if(s!==this._lastWidth||i!==this._lastHeight)if(this._lastWidth=s,this._lastHeight=i,this._renderTarget)this._renderTarget.resize(s,i);else{const e={target:3553,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:s,height:i},n={colorTarget:0,depthStencilTarget:3};this._renderTarget=new a.o(t,n,e,r.getSharedStencilBuffer())}return this._renderTarget}}let l=class extends((0,d.l)(h.default)){constructor(){super(...arguments),this.container=new o}attach(){this._updateStageChildren(),this.handles.add(this.layerViews.on("after-changes",(()=>this._updateStageChildren())),"grouplayerview2d")}detach(){this.handles.remove("grouplayerview2d"),this.container.removeAllChildren()}hitTest(e,t){return null}update(e){}moveStart(){}viewChange(){}moveEnd(){}_updateStageChildren(){this.container.removeAllChildren(),this.layerViews.forEach(((e,t)=>this.container.addChildAt(e.container,t)))}};l=(0,s.e)([(0,i.n)("esri.views.2d.layers.GroupLayerView2D")],l);const c=l}}]);