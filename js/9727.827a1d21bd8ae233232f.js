(self.webpackChunk=self.webpackChunk||[]).push([[9727],{9727:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>d});var t=i(78155),r=i(73574),a=i(82906),o=i(40130),p=i(36845),h=i(88903),l=(i(80219),i(94449)),n=i(52737),y=i(31280),c=i(68874),g=i(68683),m=i(50822);i(20215),i(80987),i(98548),i(20736),i(4169),i(92858),i(31531),i(81135),i(29126),i(52957),i(94527),i(17762),i(60816),i(61888),i(29832),i(31516),i(52109),i(6585),i(3621),i(63358),i(89710),i(62121),i(34396),i(5250),i(49878),i(84271),i(48643),i(30316),i(4618),i(65352),i(80657),i(97325),i(3629),i(47365),i(67079),i(1045),i(75200),i(334),i(93242),i(5772),i(14215),i(32769),i(83731),i(58404),i(71470),i(29986),i(7571),i(26882),i(2566),i(43356),i(85774),i(67726),i(93443),i(13564),i(29218),i(84352),i(29831),i(90258),i(25894),i(13513),i(57424),i(18143),i(91236),i(13838),i(83991),i(78191),i(50388),i(24776),i(76119),i(60978),i(40481),i(78730),i(2098),i(87405),i(11107),i(98128),i(97431),i(28090),i(93875),i(3805),i(6783),i(95186),i(71391),i(55688),i(15015),i(95629),i(9612),i(76326),i(4807),i(18559),i(42296),i(17331),i(41290),i(82361),i(71394),i(95559),i(68631),i(56803),i(2903),i(85570),i(80136),i(91507),i(85289),i(98843),i(91790),i(16040),i(79506),i(26779),i(98420),i(54223),i(8725),i(51218),i(21793),i(13895),i(15576),i(28941),i(19438),i(15022),i(56416),i(92758),i(78435),i(53902),i(2570),i(71666),i(72257),i(41822),i(99987),i(11838),i(39068),i(59312),i(79061),i(80163),i(26799),i(86897),i(79766),i(33180);let w=class extends((0,y.l)(m.d)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,s){if(this.suspended||!this.graphicsViews.length)return Promise.resolve(null);const i=this.graphicsViews.reverse().map((i=>i.hitTest(e,s)));return Promise.all(i).then((e=>e.filter(((e,s)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[s]),e.layer=this.layer,e.sourceLayer=this.layer),!!e)))[0]||null))}update(e){if(this.graphicsViews)for(const s of this.graphicsViews)s.processUpdate(e)}attach(){this.layer.featureCollections.forEach((e=>{const s=n.default.fromJSON(e.featureSet),i=new(o.L.ofType(r.h))(s.features);let t;if(this._graphicsViewMap[s.geometryType])t=this._graphicsViewMap[s.geometryType],t.graphics.addMany(i);else{const r=e.layerDefinition.drawingInfo,o=e.popupInfo?a.M.fromJSON(e.popupInfo):null,p=(0,l.c)(r.renderer);t=new g.i({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:i,renderer:p,container:new c.i(this.view.featuresTilingScheme)}),this._graphicsViewMap[s.geometryType]=t,this._popupTemplates.set(t,o),"polygon"!==s.geometryType||this.layer.polygonSymbol?"polyline"!==s.geometryType||this.layer.lineSymbol?"point"!==s.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=p.symbol):this.layer.lineSymbol=p.symbol:this.layer.polygonSymbol=p.symbol,this.graphicsViews.push(t),this.container.addChild(t.container)}})),this.handles.add([(0,p.d)(this.layer,"polygonSymbol",(e=>{this._graphicsViewMap.polygon.renderer=new l.m({symbol:e})})),(0,p.d)(this.layer,"lineSymbol",(e=>{this._graphicsViewMap.polyline.renderer=new l.m({symbol:e})})),(0,p.d)(this.layer,"pointSymbol",(e=>{this._graphicsViewMap.point.renderer=new l.m({symbol:e})}))])}detach(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this.graphicsViews.length=0}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}};w=(0,t.e)([(0,h.n)("esri.views.2d.layers.GeoRSSLayerView2D")],w);const d=w}}]);