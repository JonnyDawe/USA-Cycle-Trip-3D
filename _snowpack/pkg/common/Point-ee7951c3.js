import { e as e$2, a as a$1, o as o$2 } from './JSONSupport-9346590f.js';
import { y as y$2, n as n$2 } from './Message-70b34921.js';
import { s as s$1, d as d$1, y as y$1, n as n$1, u as u$2 } from './subclass-fe5fcf78.js';
import { e as e$3 } from './reader-fa0f173d.js';
import { k, d as d$2, u as u$1, A, S } from './SpatialReference-843b1520.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
const o$1=Object.prototype.toString;function r(n){const o="__accessorMetadata__"in n?d$1(n):n;return function(...t){if(t.push(o),"number"==typeof t[2])throw new Error("Using @cast has parameter decorator is not supported since 4.16");return e$1.apply(this,t)}}function e$1(t,o,r,e){s$1(t,o).cast=e;}function i$1(t){return function(o,r){s$1(o,t).cast=o[r];}}function c$2(...t){if(3!==t.length||"string"!=typeof t[1])return 1===t.length&&"[object Function]"===o$1.call(t[0])?r(t[0]):1===t.length&&"string"==typeof t[0]?i$1(t[0]):void 0}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
let c$1=class extends a$1{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=k.WGS84;}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,r){if(e instanceof k)return e;if(null!=e){const t=new k;return t.read(e,r),t}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache");}getCacheValue(e){return this.cache[e]}setCacheValue(e,r){this.cache[e]=r;}};e$2([y$1()],c$1.prototype,"type",void 0),e$2([y$1({readOnly:!0})],c$1.prototype,"cache",null),e$2([y$1({readOnly:!0})],c$1.prototype,"extent",null),e$2([y$1({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c$1.prototype,"hasM",void 0),e$2([y$1({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],c$1.prototype,"hasZ",void 0),e$2([y$1({type:k,json:{write:!0}})],c$1.prototype,"spatialReference",void 0),e$2([e$3("spatialReference")],c$1.prototype,"readSpatialReference",null),c$1=e$2([n$1("esri.geometry.Geometry")],c$1);var p$1=c$1;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function n(n,r,u,t){var l;(n.x=n.x+r,n.y=n.y+u,null!=t)&&(n.z=(null!=(l=n.z)?l:0)+t);return n}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function t$1(t,n){const s=t.x-n.x,r=t.y-n.y,a=t.hasZ&&n.hasZ?t.z-n.z:0;return Math.sqrt(s*s+r*r+a*a)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
class i{constructor(i,s,t,e){this.semiMajorAxis=i,this.flattening=s,this.outerAtmosphereRimWidth=t;const h=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*h,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=e||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3;}get radius(){return this.semiMajorAxis}}const s=new i(6378137,1/298.257223563,3e5,.006694379990137799),t=new i(3396190,1/169.8944472236118,23e4),e=new i(1737400,0,0);

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
const a=57.29577951308232,o=.017453292519943;function u(n){return n*a}function l(n){return n*o}function p(n){return n/s.radius}function c(n){return Math.PI/2-2*Math.atan(Math.exp(-1*n/s.radius))}function f$1(n){return null!=n.wkid||null!=n.wkt}const h=[0,0];function m$1(n,t,e,i,r){const s=n,a=r;if(a.spatialReference=e,"x"in s&&"x"in a)[a.x,a.y]=t(s.x,s.y,h,i);else if("xmin"in s&&"xmin"in a)[a.xmin,a.ymin]=t(s.xmin,s.ymin,h,i),[a.xmax,a.ymax]=t(s.xmax,s.ymax,h,i);else if("paths"in s&&"paths"in a||"rings"in s&&"rings"in a){const n="paths"in s?s.paths:s.rings,e=[];let r;for(let s=0;s<n.length;s++){const a=n[s];r=[],e.push(r);for(let n=0;n<a.length;n++)r.push(t(a[n][0],a[n][1],[0,0],i)),a[n].length>2&&r[n].push(a[n][2]),a[n].length>3&&r[n].push(a[n][3]);}"paths"in a?a.paths=e:a.rings=e;}else if("points"in s&&"points"in a){const n=s.points,e=[];for(let r=0;r<n.length;r++)e[r]=t(n[r][0],n[r][1],[0,0],i),n[r].length>2&&e[r].push(n[r][2]),n[r].length>3&&e[r].push(n[r][3]);a.points=e;}return r}function x$1(n,t){const e=n&&(f$1(n)?n:n.spatialReference),a=t&&(f$1(t)?t:t.spatialReference);return !(n&&"type"in n&&"mesh"===n.type||t&&"type"in t&&"mesh"===t.type||!e||!a)&&(!!d$2(a,e)||(u$1(a)&&A(e)||u$1(e)&&A(a)))}function g$1(e,a){const o=e&&e.spatialReference,u=a&&(f$1(a)?a:a.spatialReference);return x$1(o,u)?d$2(o,u)?y$2(e):u$1(u)?m$1(e,M,k.WebMercator,!1,y$2(e)):A(u)?m$1(e,y,k.WGS84,!1,y$2(e)):null:null}function M(n,t,i=[0,0]){t>89.99999?t=89.99999:t<-89.99999&&(t=-89.99999);const r=l(t);return i[0]=l(n)*s.radius,i[1]=s.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function y(n,t,i=[0,0],r=!1){const s$1=u(n/s.radius);return i[0]=r?s$1:s$1-360*Math.floor((s$1+180)/360),i[1]=u(Math.PI/2-2*Math.atan(Math.exp(-1*t/s.radius))),i}function d(e,i=!1,r=y$2(e)){return m$1(e,M,k.WebMercator,i,r)}function R(e,i=!1,r=y$2(e)){return m$1(e,y,k.WGS84,i,r)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
var m;const f=[0,0];function g(e){return e&&("esri.geometry.SpatialReference"===e.declaredClass||null!=e.wkid)}const x=n$2.getLogger("esri.geometry.Point");let w=m=class extends p$1{constructor(...e){super(...e),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point";}static copy(e,t){t._set("x",e._get("x")),t._set("y",e._get("y")),t._set("z",e._get("z")),t._set("m",e._get("m"));const r=e._get("spatialReference");t._set("spatialReference",Object.isFrozen(r)?r:r.clone());}normalizeCtorArgs(e,t,r,i,s){let o;if(Array.isArray(e))o=e,s=t,e=o[0],t=o[1],r=o[2],i=o[3];else if(e&&"object"==typeof e){if(o=e,e=null!=o.x?o.x:o.longitude,t=null!=o.y?o.y:o.latitude,r=o.z,i=o.m,(s=o.spatialReference)&&"esri.geometry.SpatialReference"!==s.declaredClass&&(s=new k(s)),null!=o.longitude||null!=o.latitude)if(null==o.longitude)x.warn(".longitude=","Latitude was defined without longitude");else if(null==o.latitude)x.warn(".latitude=","Longitude was defined without latitude");else if(!o.declaredClass&&s&&s.isWebMercator){const r=M(o.longitude,o.latitude,f);e=r[0],t=r[1];}}else g(r)?(s=r,r=null):g(i)&&(s=i,i=null);const a={x:e,y:t};return null==a.x&&null!=a.y?x.warn(".y=","Y coordinate was defined without an X coordinate"):null==a.y&&null!=a.x&&x.warn(".x=","X coordinate was defined without a Y coordinate"),null!=s&&(a.spatialReference=s),null!=r&&(a.z=r),null!=i&&(a.m=i),a}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return void 0!==this.m}set hasM(e){e!==(void 0!==this._get("m"))&&(this._set("m",e?0:void 0),this._set("hasM",e));}get hasZ(){return void 0!==this.z}set hasZ(e){e!==(void 0!==this._get("z"))&&(this._set("z",e?0:void 0),this._set("hasZ",e));}get latitude(){const{spatialReference:e,x:t,y:r}=this;if(e){if(e.isWebMercator)return y(t,r,f)[1];if(e.isGeographic)return r}return null}set latitude(e){const{spatialReference:t,x:r}=this;t&&(t.isWebMercator?this._set("y",M(r,e,f)[1]):t.isGeographic&&this._set("y",e),this._set("latitude",e));}get longitude(){const{x:e,y:t,spatialReference:r}=this;if(r){if(r.isWebMercator)return y(e,t,f)[0];if(r.isGeographic)return e}return NaN}set longitude(e){const{y:t,spatialReference:r}=this;r&&(r.isWebMercator?this._set("x",M(e,t,f)[0]):r.isGeographic&&this._set("x",e),this._set("longitude",e));}writeX(e,t,r){t[r]=isNaN(e)?"NaN":e;}readX(e){return "string"==typeof e?NaN:e}clone(){const e=new m;return e.x=this.x,e.y=this.y,e.z=this.z,e.m=this.m,e.spatialReference=this.spatialReference,e}copy(e){return m.copy(e,this),this}equals(e){if(!e)return !1;const{x:t,y:r,z:i,m:s,spatialReference:o}=this,{z:a,m:n}=e;let{x:l,y:p,spatialReference:c}=e;if(!o.equals(c))if(o.isWebMercator&&c.isWGS84)[l,p]=M(l,p),c=o;else {if(!o.isWGS84||!c.isWebMercator)return !1;[l,p]=y(l,p),c=o;}return t===l&&r===p&&i===a&&s===n&&o.wkid===c.wkid}offset(e,t,r){return n(this,e,t,r)}normalize(){if(!this.spatialReference)return this;const e=S(this.spatialReference);if(!e)return this;let t=this.x;const[r,i]=e.valid,s=2*i;let o;return t>i?(o=Math.ceil(Math.abs(t-i)/s),t-=o*s):t<r&&(o=Math.ceil(Math.abs(t-r)/s),t+=o*s),this._set("x",t),this}distance(e){return t$1(this,e)}toArray(){const e=this.hasZ,t=this.hasM;return e&&t?[this.x,this.y,this.z,this.m]:e?[this.x,this.y,this.z]:t?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(e){return this.write(null,e)}};e$2([y$1({readOnly:!0})],w.prototype,"cache",null),e$2([y$1({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasM",null),e$2([y$1({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],w.prototype,"hasZ",null),e$2([y$1({type:Number})],w.prototype,"latitude",null),e$2([y$1({type:Number})],w.prototype,"longitude",null),e$2([y$1({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),c$2((e=>isNaN(e)?e:u$2(e)))],w.prototype,"x",void 0),e$2([o$2("x")],w.prototype,"writeX",null),e$2([e$3("x")],w.prototype,"readX",null),e$2([y$1({type:Number,json:{write:!0}})],w.prototype,"y",void 0),e$2([y$1({type:Number,json:{write:{overridePolicy(){return {enabled:this.hasZ}}}}})],w.prototype,"z",void 0),e$2([y$1({type:Number,json:{write:{overridePolicy(){return {enabled:this.hasM}}}}})],w.prototype,"m",void 0),w=m=e$2([n$1("esri.geometry.Point")],w),w.prototype.toJSON.isDefaultToJSON=!0;var b=w;

export { M, R, p as a, b, c$2 as c, d, e, c as f, g$1 as g, p$1 as p, s, t, x$1 as x, y };
