import { e as e$5, o as o$6 } from './JSONSupport-9346590f.js';
import { t as t$3, b as r$5, y as y$3 } from './Message-70b34921.js';
import { y as y$2, n as n$2 } from './subclass-fe5fcf78.js';
import { p as p$1, b, x as x$4, d as d$3, R as R$1, g as g$2 } from './Point-ee7951c3.js';
import { k, S } from './SpatialReference-843b1520.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
const n$1=[0,0];function t$2(n,t){return e$4(n,t.x,t.y,t.z)}function r$4(n,t){if(!t.points||t.points.length)return !1;for(const r of t.points)if(!i$3(n,r))return !1;return !0}function u$7(n,t){const{xmin:r,ymin:u,zmin:i,xmax:o,ymax:f,zmax:c}=t;return n.hasZ&&t.hasZ?e$4(n,r,u,i)&&e$4(n,r,f,i)&&e$4(n,o,f,i)&&e$4(n,o,u,i)&&e$4(n,r,u,c)&&e$4(n,r,f,c)&&e$4(n,o,f,c)&&e$4(n,o,u,c):e$4(n,r,u)&&e$4(n,r,f)&&e$4(n,o,f)&&e$4(n,o,u)}function i$3(n,t){return e$4(n,t[0],t[1])}function o$5(n,t){return e$4(n,t[0],t[1],t[2])}function e$4(n,t,r,u){return t>=n.xmin&&t<=n.xmax&&r>=n.ymin&&r<=n.ymax&&(null==u||!n.hasZ||u>=n.zmin&&u<=n.zmax)}function f$6(t,r){return n$1[1]=r.y,n$1[0]=r.x,c$5(t,n$1)}function c$5(n,t){return s$4(n.rings,t)}function s$4(n,t){if(!n)return !1;if(x$3(n))return m$4(!1,n,t);let r=!1;for(let u=0,i=n.length;u<i;u++)r=m$4(r,n[u],t);return r}function x$3(n){return !Array.isArray(n[0][0])}function m$4(n,t,r){const[u,i]=r;let o=n,e=0;for(let f=0,c=t.length;f<c;f++){e++,e===c&&(e=0);const[n,r]=t[f],[s,x]=t[e];(r<i&&x>=i||x<i&&r>=i)&&n+(i-r)/(x-r)*(s-n)<u&&(o=!o);}return o}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function i$2(t,e){return t$2(t,e)}function o$4(n,t){const e=n.hasZ&&t.hasZ;let r,i,o;if(n.xmin<=t.xmin){if(r=t.xmin,n.xmax<r)return !1}else if(r=n.xmin,t.xmax<r)return !1;if(n.ymin<=t.ymin){if(i=t.ymin,n.ymax<i)return !1}else if(i=n.ymin,t.ymax<i)return !1;if(e&&t.hasZ)if(n.zmin<=t.zmin){if(o=t.zmin,n.zmax<o)return !1}else if(o=n.zmin,t.zmax<o)return !1;return !0}function f$5(n,t){const{points:i,hasZ:o}=t,f=o?o$5:i$3;for(const e of i)if(f(n,e))return !0;return !1}const s$3=[0,0],c$4=[0,0],m$3=[0,0],u$6=[0,0],l$4=[s$3,c$4,m$3,u$6],a$1=[[m$3,s$3],[s$3,c$4],[c$4,u$6],[u$6,m$3]];function x$2(n,r){s$3[0]=n.xmin,s$3[1]=n.ymax,c$4[0]=n.xmax,c$4[1]=n.ymax,m$3[0]=n.xmin,m$3[1]=n.ymin,u$6[0]=n.xmax,u$6[1]=n.ymin;for(const e of l$4)if(c$5(r,e))return !0;for(const t of r.rings){if(!t.length)continue;let r=t[0];if(i$3(n,r))return !0;for(let i=1;i<t.length;i++){const o=t[i];if(i$3(n,o)||p(r,o,a$1))return !0;r=o;}}return !1}function y$1(n,t){s$3[0]=n.xmin,s$3[1]=n.ymax,c$4[0]=n.xmax,c$4[1]=n.ymax,m$3[0]=n.xmin,m$3[1]=n.ymin,u$6[0]=n.xmax,u$6[1]=n.ymin;const r=t.paths;for(const i of r){if(!r.length)continue;let t=i[0];if(i$3(n,t))return !0;for(let r=1;r<i.length;r++){const o=i[r];if(i$3(n,o)||p(t,o,a$1))return !0;t=o;}}return !1}const h$5=[0,0];function g$1(n){for(let t=0;t<n.length;t++){const e=n[t];for(let i=0;i<e.length-1;i++){const r=e[i],o=e[i+1];for(let e=t+1;e<n.length;e++)for(let t=0;t<n[e].length-1;t++){const i=n[e][t],f=n[e][t+1];if(z$1(r,o,i,f,h$5)&&!(h$5[0]===r[0]&&h$5[1]===r[1]||h$5[0]===i[0]&&h$5[1]===i[1]||h$5[0]===o[0]&&h$5[1]===o[1]||h$5[0]===f[0]&&h$5[1]===f[1]))return !0}}const r=e.length;if(!(r<=4))for(let n=0;n<r-3;n++){let t=r-1;0===n&&(t=r-2);const i=e[n],o=e[n+1];for(let r=n+2;r<t;r++){const n=e[r],t=e[r+1];if(z$1(i,o,n,t,h$5)&&!(h$5[0]===i[0]&&h$5[1]===i[1]||h$5[0]===n[0]&&h$5[1]===n[1]||h$5[0]===o[0]&&h$5[1]===o[1]||h$5[0]===t[0]&&h$5[1]===t[1]))return !0}}}return !1}function p(n,t,e){for(let r=0;r<e.length;r++)if(z$1(n,t,e[r][0],e[r][1]))return !0;return !1}function z$1(n,t,e,r,i){const[o,f]=n,[s,c]=t,[m,u]=e,[l,a]=r,x=l-m,y=o-m,h=s-o,g=a-u,p=f-u,z=c-f,G=g*h-x*z;if(0===G)return !1;const Z=(x*p-g*y)/G,P=(h*p-z*y)/G;return Z>=0&&Z<=1&&P>=0&&P<=1&&(i&&(i[0]=o+Z*(s-o),i[1]=f+Z*(c-f)),!0)}function G(n){switch(n){case"esriGeometryEnvelope":case"extent":return o$4;case"esriGeometryMultipoint":case"multipoint":return f$5;case"esriGeometryPoint":case"point":return i$2;case"esriGeometryPolygon":case"polygon":return x$2;case"esriGeometryPolyline":case"polyline":return y$1}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
var u$5;function f$4(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}function d$2(t,i,e){return null==i?e:null==e?i:t(i,e)}let z=u$5=class extends p$1{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0;}normalizeCtorArgs(t,i,e,s,n){return f$4(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:"object"==typeof t?(t.spatialReference=null==t.spatialReference?k.WGS84:t.spatialReference,t):{xmin:t,ymin:i,xmax:e,ymax:s,spatialReference:null==n?k.WGS84:n}}static fromBounds(t,i){return new u$5({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:i})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new b({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return null!=this.mmin&&null!=this.mmax}get hasZ(){return null!=this.zmin&&null!=this.zmax}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const i=this.center;return null!=t.z&&this.hasZ?this.offset(t.x-i.x,t.y-i.y,t.z-i.z):this.offset(t.x-i.x,t.y-i.y)}clone(){const t=new u$5;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,null!=this.zmin&&(t.zmin=this.zmin,t.zmax=this.zmax),null!=this.mmin&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return !1;const i=this.spatialReference,e=t.spatialReference;return i&&e&&!i.equals(e)&&x$4(i,e)&&(t=i.isWebMercator?d$3(t):R$1(t,!0)),"point"===t.type?t$2(this,t):"extent"===t.type&&u$7(this,t)}equals(t){if(!t)return !1;const i=this.spatialReference,e=t.spatialReference;return i&&e&&!i.equals(e)&&x$4(i,e)&&(t=i.isWebMercator?d$3(t):R$1(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const i=.5*(1-t),e=this.width*i,s=this.height*i;if(this.xmin+=e,this.ymin+=s,this.xmax-=e,this.ymax-=s,this.hasZ){const t=(this.zmax-this.zmin)*i;this.zmin+=t,this.zmax-=t;}if(this.hasM){const t=(this.mmax-this.mmin)*i;this.mmin+=t,this.mmax-=t;}return this}intersects(t){if(t$3(t))return !1;"mesh"===t.type&&(t=t.extent);const e=this.spatialReference,s=t.spatialReference;e&&s&&!e.equals(s)&&x$4(e,s)&&(t=e.isWebMercator?d$3(t):R$1(t,!0));return G(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,i,e){return this.xmin+=t,this.ymin+=i,this.xmax+=t,this.ymax+=i,null!=e&&(this.zmin+=e,this.zmax+=e),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d$2(Math.min,this.zmin,t.zmin),this.zmax=d$2(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d$2(Math.min,this.mmin,t.mmin),this.mmax=d$2(Math.max,this.mmax,t.mmax)),this}intersection(t){return this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=d$2(Math.max,this.zmin,t.zmin),this.zmax=d$2(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=d$2(Math.max,this.mmin,t.mmin),this.mmax=d$2(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write(null,t)}_shiftCM(t=S(this.spatialReference)){if(!t||!this.spatialReference)return this;const i=this.spatialReference,s=this._getCM(t);if(s){const n=i.isWebMercator?R$1(s):s;this.xmin-=s.x,this.xmax-=s.x,i.isWebMercator||(n.x=this._normalizeX(n.x,t).x),this.spatialReference=new k(r$5(i.isWGS84?t.altTemplate:t.wkTemplate,{Central_Meridian:n.x}));}return this}_getCM(t){let i=null;const[e,s]=t.valid,n=this.xmin,m=this.xmax;return n>=e&&n<=s&&(m>=e&&m<=s)||(i=this.center),i}_normalize(t,i,e){const s=this.spatialReference;if(!s)return this;if(!(e=e||S(s)))return this;const n=this._getParts(e).map((t=>t.extent));if(n.length<2)return n[0]||this;if(n.length>2)return t?this._shiftCM(e):this.set({xmin:e.valid[0],xmax:e.valid[1]});if(t)return this._shiftCM(e);if(i)return n;let m=!0,r=!0;return n.forEach((t=>{t.hasZ||(m=!1),t.hasM||(r=!1);})),{rings:n.map((t=>{const i=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(m){const e=(t.zmax-t.zmin)/2;for(let t=0;t<i.length;t++)i[t].push(e);}if(r){const e=(t.mmax-t.mmin)/2;for(let t=0;t<i.length;t++)i[t].push(e);}return i})),hasZ:m,hasM:r,spatialReference:s}}_getParts(t){let i=this.cache._parts;if(!i){i=[];const{ymin:e,ymax:s,spatialReference:n}=this,m=this.width,r=this.xmin,a=this.xmax;let h;t=t||S(n);const[o,x]=t.valid;h=this._normalizeX(this.xmin,t);const p=h.x,c=h.frameId;h=this._normalizeX(this.xmax,t);const y=h.x,f=h.frameId,d=p===y&&m>0;if(m>2*x){const t=new u$5(r<a?p:y,e,x,s,n),m=new u$5(o,e,r<a?y:p,s,n),h=new u$5(0,e,x,s,n),l=new u$5(o,e,0,s,n),d=[],z=[];t.contains(h)&&d.push(c),t.contains(l)&&z.push(c),m.contains(h)&&d.push(f),m.contains(l)&&z.push(f);for(let i=c+1;i<f;i++)d.push(i),z.push(i);i.push({extent:t,frameIds:[c]},{extent:m,frameIds:[f]},{extent:h,frameIds:d},{extent:l,frameIds:z});}else p>y||d?i.push({extent:new u$5(p,e,x,s,n),frameIds:[c]},{extent:new u$5(o,e,y,s,n),frameIds:[f]}):i.push({extent:new u$5(p,e,y,s,n),frameIds:[c]});this.cache._parts=i;}const e=this.hasZ,s=this.hasM;if(e||s){const t={};e&&(t.zmin=this.zmin,t.zmax=this.zmax),s&&(t.mmin=this.mmin,t.mmax=this.mmax);for(let e=0;e<i.length;e++)i[e].extent.set(t);}return i}_normalizeX(t,i){const[e,s]=i.valid,n=2*s;let m,r=0;return t>s?(m=Math.ceil(Math.abs(t-s)/n),t-=m*n,r=m):t<e&&(m=Math.ceil(Math.abs(t-e)/n),t+=m*n,r=-m),{x:t,frameId:r}}};e$5([y$2({readOnly:!0})],z.prototype,"cache",null),e$5([y$2({readOnly:!0})],z.prototype,"center",null),e$5([y$2({readOnly:!0})],z.prototype,"extent",null),e$5([y$2({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z.prototype,"hasM",null),e$5([y$2({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],z.prototype,"hasZ",null),e$5([y$2({readOnly:!0})],z.prototype,"height",null),e$5([y$2({readOnly:!0})],z.prototype,"width",null),e$5([y$2({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],z.prototype,"xmin",void 0),e$5([y$2({type:Number,json:{write:!0}})],z.prototype,"ymin",void 0),e$5([y$2({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasM}}}}})],z.prototype,"mmin",void 0),e$5([y$2({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasZ}}}}})],z.prototype,"zmin",void 0),e$5([y$2({type:Number,json:{write:!0}})],z.prototype,"xmax",void 0),e$5([y$2({type:Number,json:{write:!0}})],z.prototype,"ymax",void 0),e$5([y$2({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasM}}}}})],z.prototype,"mmax",void 0),e$5([y$2({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return {enabled:this.hasZ}}}}})],z.prototype,"zmax",void 0),z=u$5=e$5([n$2("esri.geometry.Extent")],z),z.prototype.toJSON.isDefaultToJSON=!0;var M=z;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function h$4(h,a,s=!1){let{hasM:t,hasZ:e}=h;Array.isArray(a)?4!==a.length||t||e?3===a.length&&s&&!t?(e=!0,t=!1):3===a.length&&t&&e&&(t=!1,e=!1):(t=!0,e=!0):(e=!e&&a.hasZ&&(!t||a.hasM),t=!t&&a.hasM&&(!e||a.hasZ)),h.hasZ=e,h.hasM=t;}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
var h$3;function l$3(t){return (s,e)=>null==s?e:null==e?s:t(s,e)}function c$3(t){return t&&("esri.geometry.SpatialReference"===t.declaredClass||null!=t.wkid)}let m$2=h$3=class extends p$1{constructor(...t){super(...t),this.points=[],this.type="multipoint";}normalizeCtorArgs(t,s){if(!t&&!s)return null;const e={};Array.isArray(t)?(e.points=t,e.spatialReference=s):c$3(t)?e.spatialReference=t:(t.points&&(e.points=t.points),t.spatialReference&&(e.spatialReference=t.spatialReference),t.hasZ&&(e.hasZ=t.hasZ),t.hasM&&(e.hasM=t.hasM));const r=e.points&&e.points[0];return r&&(void 0===e.hasZ&&void 0===e.hasM?(e.hasZ=r.length>2,e.hasM=!1):void 0===e.hasZ?e.hasZ=r.length>3:void 0===e.hasM&&(e.hasM=r.length>3)),e}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const s=new M,e=this.hasZ,r=this.hasM,i=e?3:2,o=t[0],a=l$3(Math.min),p=l$3(Math.max);let h,c,m,u,[f,y]=o,[d,g]=o;for(let n=0,l=t.length;n<l;n++){const s=t[n],[o,l]=s;if(f=a(f,o),y=a(y,l),d=p(d,o),g=p(g,l),e&&s.length>2){const t=s[2];h=a(h,t),m=p(m,t);}if(r&&s.length>i){const t=s[i];c=a(c,t),u=p(u,t);}}return s.xmin=f,s.ymin=y,s.xmax=d,s.ymax=g,s.spatialReference=this.spatialReference,e?(s.zmin=h,s.zmax=m):(s.zmin=null,s.zmax=null),r?(s.mmin=c,s.mmax=u):(s.mmin=null,s.mmax=null),s}writePoints(t,e){e.points=y$3(this.points);}addPoint(t){return h$4(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:y$3(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new h$3(t)}getPoint(t){if(!this._validateInputs(t))return null;const s=this.points[t],e={x:s[0],y:s[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(e.z=s[2],r=3),this.hasM&&(e.m=s[r]),new b(e)}removePoint(t){if(!this._validateInputs(t))return null;const s=new b(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),s}setPoint(t,s){return this._validateInputs(t)?(h$4(this,s),Array.isArray(s)||(s=s.toArray()),this.points[t]=s,this.notifyChange("points"),this):this}toJSON(t){return this.write(null,t)}_validateInputs(t){return null!=t&&t>=0&&t<this.points.length}};e$5([y$2({readOnly:!0})],m$2.prototype,"cache",null),e$5([y$2()],m$2.prototype,"extent",null),e$5([y$2({type:[[Number]],json:{write:{isRequired:!0}}})],m$2.prototype,"points",void 0),e$5([o$6("points")],m$2.prototype,"writePoints",null),m$2=h$3=e$5([n$2("esri.geometry.Multipoint")],m$2),m$2.prototype.toJSON.isDefaultToJSON=!0;var u$4=m$2;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function e$3(n,t){const e=t[0]-n[0],r=t[1]-n[1];if(n.length>2&&t.length>2){const o=n[2]-t[2];return Math.sqrt(e*e+r*r+o*o)}return Math.sqrt(e*e+r*r)}function r$3(n,t,e){const r=n[0]+e*(t[0]-n[0]),o=n[1]+e*(t[1]-n[1]);return n.length>2&&t.length>2?[r,o,n[2]+e*(t[2]-n[2])]:[r,o]}function o$3(n,t,e,r){const[o,i]=t,[s,l]=e[r],[f,u]=e[r+1],h=f-s,c=u-l,a=h*h+c*c,g=(o-s)*h+(i-l)*c,m=Math.min(1,Math.max(0,g/a));return n[0]=s+h*m,n[1]=l+c*m,n}function i$1(n,t){return r$3(n,t,.5)}function s$2(n){const t=n.length;let r=0;for(let o=0;o<t-1;++o)r+=e$3(n[o],n[o+1]);return r}function l$2(n,t){if(t<=0)return n[0];const o=n.length;let i=0;for(let s=0;s<o-1;++s){const o=e$3(n[s],n[s+1]);if(t-i<o){const e=(t-i)/o;return r$3(n[s],n[s+1],e)}i+=o;}return n[o-1]}function f$3(n,t,e){const r=n.length;let o=0,i=0,s=0;for(let l=0;l<r;l++){const f=n[l],u=n[(l+1)%r];let h=2;o+=f[0]*u[1]-u[0]*f[1],f.length>2&&u.length>2&&e&&(i+=f[0]*u[2]-u[0]*f[2],h=3),f.length>h&&u.length>h&&t&&(s+=f[0]*u[h]-u[0]*f[h]);}return o<=0&&i<=0&&s<=0}function u$3(n){if("rings"in n){for(const t of n.rings)t.length<3||t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]||t.push([t[0][0],t[0][1]]);if(n.rings.length>0){if(!f$3(n.rings[0],n.hasM,n.hasZ))for(let t=0;t<n.rings.length;++t)n.rings[t]=n.rings[t].reverse();}}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function e$2(n){return n?o$2(n.rings,n.hasZ):null}function o$2(n,t){if(!n||!n.length)return null;const l=[],e=[],o=t?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let h=0,i=n.length;h<i;h++){const l=r$2(n[h],t,o);l&&e.push(l);}if(e.sort(((n,l)=>{let e=n[2]-l[2];return 0===e&&t&&(e=n[4]-l[4]),e})),e.length&&(l[0]=e[0][0],l[1]=e[0][1],t&&(l[2]=e[0][3]),(l[0]<o[0]||l[0]>o[1]||l[1]<o[2]||l[1]>o[3]||t&&(l[2]<o[4]||l[2]>o[5]))&&(l.length=0)),!l.length){const e=n[0]&&n[0].length?h$2(n[0],t):null;if(!e)return null;l[0]=e[0],l[1]=e[1],t&&e.length>2&&(l[2]=e[2]);}return l}function r$2(n,t,l){let e=0,o=0,r=0,h=0,i=0;const u=n.length?n[0][0]:0,g=n.length?n[0][1]:0,s=n.length&&t?n[0][2]:0;for(let f=0;f<n.length;f++){const c=n[f],m=n[(f+1)%n.length],[x,a,y]=c,d=x-u,p=a-g,v=t?y-s:void 0,[z,Z,j]=m,U=z-u,b=Z-g,k=t?j-s:void 0,q=d*b-U*p;if(h+=q,e+=(d+U)*q,o+=(p+b)*q,t&&c.length>2&&m.length>2){const n=d*k-U*v;r+=(v+k)*n,i+=n;}x<l[0]&&(l[0]=x),x>l[1]&&(l[1]=x),a<l[2]&&(l[2]=a),a>l[3]&&(l[3]=a),t&&(y<l[4]&&(l[4]=y),y>l[5]&&(l[5]=y));}if(h>0&&(h*=-1),i>0&&(i*=-1),!h)return null;h*=.5,i*=.5;const c=[e/(6*h)+u,o/(6*h)+g,h];return t&&(l[4]===l[5]||0===i?(c[3]=(l[4]+l[5])/2,c[4]=0):(c[3]=r/(6*i)+s,c[4]=i)),c}function h$2(l,e){const o=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let h=0,i=0,u=0,g=0;for(let s=0,c=l.length;s<c-1;s++){const c=l[s],f=l[s+1];if(c&&f){o[0]=c[0],o[1]=c[1],r[0]=f[0],r[1]=f[1],e&&c.length>2&&f.length>2&&(o[2]=c[2],r[2]=f[2]);const l=e$3(o,r);if(l){h+=l;const n=i$1(c,f);i+=l*n[0],u+=l*n[1],e&&n.length>2&&(g+=l*n[2]);}}}return h>0?e?[i/h,u/h,g/h]:[i/h,u/h]:l.length?l[0]:null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function n(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax}function t$1(n){return void 0!==n.points}function e$1(n){return void 0!==n.x&&void 0!==n.y}function o$1(n){return void 0!==n.paths}function i(n){return void 0!==n.rings}function l$1(n){return (t,e)=>null==t?e:null==e?t:n(t,e)}const r$1=l$1(Math.min),u$2=l$1(Math.max);function c$2(l,r){return o$1(r)?h$1(l,r.paths,!1,!1):i(r)?h$1(l,r.rings,!1,!1):t$1(r)?s$1(l,r.points,!1,!1,!1,!1):n(r)?g(l,r):(e$1(r)&&(l[0]=r.x,l[1]=r.y,l[2]=r.x,l[3]=r.y),l)}function f$2(l,r){return o$1(r)?h$1(l,r.paths,!0,!1):i(r)?h$1(l,r.rings,!0,!1):t$1(r)?s$1(l,r.points,!0,!1,!0,!1):n(r)?g(l,r,!0,!1,!0,!1):(e$1(r)&&(l[0]=r.x,l[1]=r.y,l[2]=r.z,l[3]=r.x,l[4]=r.y,l[5]=r.z),l)}function h$1(n,t,e,o){const i=e?3:2;if(!t.length||!t[0].length)return null;let l,c,f,h,[g,s]=t[0][0],[x,m]=t[0][0];for(let a=0;a<t.length;a++){const n=t[a];for(let t=0;t<n.length;t++){const a=n[t],[d,v]=a;if(g=r$1(g,d),s=r$1(s,v),x=u$2(x,d),m=u$2(m,v),e&&a.length>2){const n=a[2];l=r$1(l,n),c=u$2(c,n);}if(o&&a.length>i){const n=a[i];f=r$1(l,n),h=u$2(c,n);}}}return e?o?(n[0]=g,n[1]=s,n[2]=l,n[3]=f,n[4]=x,n[5]=m,n[6]=c,n[7]=h,n.length=8,n):(n[0]=g,n[1]=s,n[2]=l,n[3]=x,n[4]=m,n[5]=c,n.length=6,n):o?(n[0]=g,n[1]=s,n[2]=f,n[3]=x,n[4]=m,n[5]=h,n.length=6,n):(n[0]=g,n[1]=s,n[2]=x,n[3]=m,n.length=4,n)}function g(n,t,e,o,i,l){const r=t.xmin,u=t.xmax,c=t.ymin,f=t.ymax;let h=t.zmin,g=t.zmax,s=t.mmin,x=t.mmax;return i?(h=h||0,g=g||0,l?(s=s||0,x=x||0,n[0]=r,n[1]=c,n[2]=h,n[3]=s,n[4]=u,n[5]=f,n[6]=g,n[7]=x,n):(n[0]=r,n[1]=c,n[2]=h,n[3]=u,n[4]=f,n[5]=g,n)):l?(s=s||0,x=x||0,n[0]=r,n[1]=c,n[2]=s,n[3]=u,n[4]=f,n[5]=x,n):(n[0]=r,n[1]=c,n[2]=u,n[3]=f,n)}function s$1(n,t,e,o,i,l){const c=e?3:2,f=o&&l,h=e&&i;if(!t.length||!t[0].length)return null;let g,s,x,m,[a,d]=t[0],[v,y]=t[0];for(let p=0;p<t.length;p++){const n=t[p],[e,o]=n;if(a=r$1(a,e),d=r$1(d,o),v=u$2(v,e),y=u$2(y,o),h&&n.length>2){const t=n[2];g=r$1(g,t),s=u$2(s,t);}if(f&&n.length>c){const t=n[c];x=r$1(g,t),m=u$2(s,t);}}return i?(g=g||0,s=s||0,l?(x=x||0,m=m||0,n[0]=a,n[1]=d,n[2]=g,n[3]=x,n[4]=v,n[5]=y,n[6]=s,n[7]=m,n):(n[0]=a,n[1]=d,n[2]=g,n[3]=v,n[4]=y,n[5]=s,n)):l?(x=x||0,m=m||0,n[0]=a,n[1]=d,n[2]=x,n[3]=v,n[4]=y,n[5]=m,n):(n[0]=a,n[1]=d,n[2]=v,n[3]=y,n)}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function t(n){return void 0!==n.xmin&&void 0!==n.ymin&&void 0!==n.xmax&&void 0!==n.ymax}function u$1(n){return void 0!==n.points}function m$1(n){return void 0!==n.x&&void 0!==n.y}function o(n){return void 0!==n.paths}function r(n){return void 0!==n.rings}const x$1=[];function a(n,i,t,u){return {xmin:n,ymin:i,xmax:t,ymax:u}}function c$1(n,i,t,u,m,o){return {xmin:n,ymin:i,zmin:t,xmax:u,ymax:m,zmax:o}}function s(n,i,t,u,m,o){return {xmin:n,ymin:i,mmin:t,xmax:u,ymax:m,mmax:o}}function e(n,i,t,u,m,o,r,x){return {xmin:n,ymin:i,zmin:t,mmin:u,xmax:m,ymax:o,zmax:r,mmax:x}}function f$1(n,i=!1,t=!1){return i?t?e(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]):c$1(n[0],n[1],n[2],n[3],n[4],n[5]):t?s(n[0],n[1],n[2],n[3],n[4],n[5]):a(n[0],n[1],n[2],n[3])}function l(n){return n?t(n)?n:m$1(n)?d$1(n):r(n)?v(n):o(n)?h(n):u$1(n)?y(n):null:null}function y(i){const{hasZ:t,hasM:u,points:m}=i;return f$1(s$1(x$1,m,t,u),t,u)}function d$1(n){const{x:i,y:t,z:u,m}=n,o=null!=m;return null!=u?o?e(i,t,u,m,i,t,u,m):c$1(i,t,u,i,t,u):o?s(i,t,m,i,t,m):a(i,t,i,t)}function v(n){const{hasZ:t,hasM:u,rings:m}=n,o=h$1(x$1,m,t,u);return o?f$1(o,t,u):null}function h(n){const{hasZ:t,hasM:u,paths:m}=n,o=h$1(x$1,m,t,u);return o?f$1(o,t,u):null}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
var d;function R(t){return !Array.isArray(t[0])}let x=d=class extends p$1{constructor(...t){super(...t),this.rings=[],this.type="polygon";}static fromExtent(t){const e=t.clone().normalize(),r=t.spatialReference;let s=!1,i=!1;e.map((t=>{t.hasZ&&(s=!0),t.hasM&&(i=!0);}));const n={rings:e.map((function(t){const e=[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]];if(s&&t.hasZ){const r=t.zmin+.5*(t.zmax-t.zmin);for(let t=0;t<e.length;t++)e[t].push(r);}if(i&&t.hasM){const r=t.mmin+.5*(t.mmax-t.mmin);for(let t=0;t<e.length;t++)e[t].push(r);}return e})),spatialReference:r};return s&&(n.hasZ=!0),i&&(n.hasM=!0),new d(n)}normalizeCtorArgs(t,e){let r,s,i=null,n=null;return t&&!Array.isArray(t)?(i=t.rings?t.rings:null,e||(t.spatialReference?e=t.spatialReference:t.rings||(e=t)),r=t.hasZ,s=t.hasM):i=t,i=i||[],e=e||k.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),n=i[0]&&i[0][0],n&&(void 0===r&&void 0===s?(r=n.length>2,s=n.length>3):void 0===r?r=s?n.length>3:n.length>2:void 0===s&&(s=r?n.length>3:n.length>2)),{rings:i,spatialReference:e,hasZ:r,hasM:s}}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=e$2(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new b;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=v(this);if(!e)return null;const r=new M(e);return r.spatialReference=t,r}get isSelfIntersecting(){return g$1(this.rings)}writeRings(t,r){r.rings=y$3(this.rings);}addRing(t){if(!t)return;const e=this.rings,r=e.length;if(R(t)){const s=[];for(let e=0,r=t.length;e<r;e++)s[e]=t[e].toArray();e[r]=s;}else e[r]=t.concat();return this.notifyChange("rings"),this}clone(){const t=new d;return t.spatialReference=this.spatialReference,t.rings=y$3(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}contains(t){return !!t&&(x$4(t,this.spatialReference)&&(t=g$2(t,this.spatialReference)),f$6(this,t))}isClockwise(t){let e;return e=R(t)?t.map((t=>this.hasZ?this.hasM?[t.x,t.y,t.z,t.m]:[t.x,t.y,t.z]:[t.x,t.y])):t,f$3(e,this.hasM,this.hasZ)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const r=this.rings[t][e],s=this.hasZ,i=this.hasM;return s&&!i?new b(r[0],r[1],r[2],void 0,this.spatialReference):i&&!s?new b(r[0],r[1],void 0,r[2],this.spatialReference):s&&i?new b(r[0],r[1],r[2],r[3],this.spatialReference):new b(r[0],r[1],this.spatialReference)}insertPoint(t,e,r){return this._validateInputs(t,e,!0)?(h$4(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t].splice(e,0,r),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const r=new b(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),r}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],r=this.spatialReference,s=e.map((t=>new b(t,r)));return this.notifyChange("rings"),s}setPoint(t,e,r){return this._validateInputs(t,e)?(h$4(this,r),Array.isArray(r)||(r=r.toArray()),this.rings[t][e]=r,this.notifyChange("rings"),this):this}_validateInputs(t,e,r=!1){if(null==t||t<0||t>=this.rings.length)return !1;if(null!=e){const s=this.rings[t];if(r&&(e<0||e>s.length))return !1;if(!r&&(e<0||e>=s.length))return !1}return !0}toJSON(t){return this.write(null,t)}};e$5([y$2({readOnly:!0})],x.prototype,"cache",null),e$5([y$2({readOnly:!0})],x.prototype,"centroid",null),e$5([y$2({readOnly:!0})],x.prototype,"extent",null),e$5([y$2({readOnly:!0})],x.prototype,"isSelfIntersecting",null),e$5([y$2({type:[[[Number]]],json:{write:{isRequired:!0}}})],x.prototype,"rings",void 0),e$5([o$6("rings")],x.prototype,"writeRings",null),x=d=e$5([n$2("esri.geometry.Polygon")],x),x.prototype.toJSON.isDefaultToJSON=!0;var j=x;

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
var c;function u(t){return !Array.isArray(t[0])}let f=c=class extends p$1{constructor(...t){super(...t),this.paths=[],this.type="polyline";}normalizeCtorArgs(t,e){let s,r,i=null,a=null;return t&&!Array.isArray(t)?(i=t.paths?t.paths:null,e||(t.spatialReference?e=t.spatialReference:t.paths||(e=t)),s=t.hasZ,r=t.hasM):i=t,i=i||[],e=e||k.WGS84,i.length&&i[0]&&null!=i[0][0]&&"number"==typeof i[0][0]&&(i=[i]),a=i[0]&&i[0][0],a&&(void 0===s&&void 0===r?(s=a.length>2,r=!1):void 0===s?s=!r&&a.length>3:void 0===r&&(r=!s&&a.length>3)),{paths:i,spatialReference:e,hasZ:s,hasM:r}}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=h(this);if(!e)return null;const s=new M(e);return s.spatialReference=t,s}writePaths(t,s){s.paths=y$3(this.paths);}addPath(t){if(!t)return;const e=this.paths,s=e.length;if(u(t)){const r=[];for(let e=0,s=t.length;e<s;e++)r[e]=t[e].toArray();e[s]=r;}else e[s]=t.concat();return this.notifyChange("paths"),this}clone(){const t=new c;return t.spatialReference=this.spatialReference,t.paths=y$3(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const s=this.paths[t][e],r=this.hasZ,i=this.hasM;return r&&!i?new b(s[0],s[1],s[2],void 0,this.spatialReference):i&&!r?new b(s[0],s[1],void 0,s[2],this.spatialReference):r&&i?new b(s[0],s[1],s[2],s[3],this.spatialReference):new b(s[0],s[1],this.spatialReference)}insertPoint(t,e,s){return this._validateInputs(t,e,!0)?(h$4(this,s),Array.isArray(s)||(s=s.toArray()),this.paths[t].splice(e,0,s),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],s=this.spatialReference,r=e.map((t=>new b(t,s)));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const s=new b(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),s}setPoint(t,e,s){return this._validateInputs(t,e)?(h$4(this,s),Array.isArray(s)||(s=s.toArray()),this.paths[t][e]=s,this.notifyChange("paths"),this):this}_validateInputs(t,e,s=!1){if(null==t||t<0||t>=this.paths.length)return !1;if(null!=e){const r=this.paths[t];if(s&&(e<0||e>r.length))return !1;if(!s&&(e<0||e>=r.length))return !1}return !0}toJSON(t){return this.write(null,t)}};e$5([y$2({readOnly:!0})],f.prototype,"cache",null),e$5([y$2({readOnly:!0})],f.prototype,"extent",null),e$5([y$2({type:[[[Number]]],json:{write:{isRequired:!0}}})],f.prototype,"paths",void 0),e$5([o$6("paths")],f.prototype,"writePaths",null),f=c=e$5([n$2("esri.geometry.Polyline")],f),f.prototype.toJSON.isDefaultToJSON=!0;var m=f;

export { G, M, o$2 as a, f$3 as b, c$2 as c, l as d, o$4 as e, f$6 as f, e$2 as g, u$3 as h, f$2 as i, j, o$5 as k, l$2 as l, m, o$3 as o, r$4 as r, s$2 as s, t$2 as t, u$4 as u, v, y$1 as y, z$1 as z };
