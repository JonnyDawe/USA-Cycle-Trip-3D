import { r as r$1 } from './Loadable-d16b3d7d.js';
import { G as se, J, n as P, K, Z, E, v as te, H as c, l as k$1, L as r, M as O$1, Q as fe, R as a, U as ce, V as me, X, W as ee, Y as h$1, $ as f } from './arcadeUtils-e7a1e061.js';
import { M, m, j as j$1, u } from './Polyline-ccd8fb47.js';
import { p as p$1, b } from './Point-ee7951c3.js';
import { S, g, A, w, x, p, O, d, h, j, k, R, E as E$1, l, y, W, K as K$1, F, M as M$1, m as m$1, P as P$1, U, G, V, b as b$1, I, q, J as J$1, v } from './geometryEngineAsync-a7b58556.js';
import { p as p$2 } from './jsonUtils-f0a19240.js';
import './subclass-fe5fcf78.js';
import './Message-70b34921.js';
import './SpatialReference-843b1520.js';
import './JSONSupport-9346590f.js';
import './promiseUtils-2ff2b194.js';
import './jsonMap-e142bd84.js';
import './number-85e98a72.js';
import './locale-b874fc68.js';
import './Field-728fb193.js';
import './enumeration-7d0c165d.js';
import './reader-fa0f173d.js';
import './fieldUtils-22be41cd.js';
import './fieldType-6799091f.js';
import './featureConversionUtils-3ad98dca.js';
import './OptimizedFeature-ccef5b1d.js';
import './OptimizedFeatureSet-be12a9b8.js';
import './FeatureSetReader-bf914a8a.js';
import './centroid-80fbdb27.js';
import './sizeVariableUtils-6d1564c8.js';
import './workers-bd1ea274.js';
import './assets-73c8998f.js';
import './intl-21ab9759.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
function tn(r){return 0===r$1.indexOf("4.")?j$1.fromExtent(r):new j$1({spatialReference:r.spatialReference,rings:[[[r.xmin,r.ymin],[r.xmin,r.ymax],[r.xmax,r.ymax],[r.xmax,r.ymin],[r.xmin,r.ymin]]]})}function en(n){if(J(n,2,2),n[0]instanceof p$1&&n[1]instanceof p$1);else if(n[0]instanceof p$1&&null===n[1]);else if(n[1]instanceof p$1&&null===n[0]);else if(null!==n[0]||null!==n[1])throw new Error("Illegal Argument")}function on(n){"async"===n.mode&&(n.functions.disjoint=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null===t[0]||null===t[1]||S(t[0],t[1])}))},n.functions.intersects=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&g(t[0],t[1])}))},n.functions.touches=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&A(t[0],t[1])}))},n.functions.crosses=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&w(t[0],t[1])}))},n.functions.within=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&x(t[0],t[1])}))},n.functions.contains=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&p(t[0],t[1])}))},n.functions.overlaps=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null!==t[0]&&null!==t[1]&&O(t[0],t[1])}))},n.functions.equals=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return J(t,2,2),t[0]===t[1]||(t[0]instanceof p$1&&t[1]instanceof p$1?d(t[0],t[1]):!(!P(t[0])||!P(t[1]))&&t[0].getTime()===t[1].getTime())}))},n.functions.relate=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,3,3),t[0]instanceof p$1&&t[1]instanceof p$1)return h(t[0],t[1],K(t[2]));if(t[0]instanceof p$1&&null===t[1])return !1;if(t[1]instanceof p$1&&null===t[0])return !1;if(null===t[0]&&null===t[1])return !1;throw new Error("Illegal Argument")}))},n.functions.intersection=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){return en(t=se(t)),null===t[0]||null===t[1]?null:j(t[0],t[1])}))},n.functions.union=function(t,e){return n.standardFunctionAsync(t,e,(function(n,e,i){const u=[];if(0===(i=se(i)).length)throw new Error("Function called with wrong number of Parameters");if(1===i.length)if(Z(i[0])){const n=se(i[0]);for(let r=0;r<n.length;r++)if(null!==n[r]){if(!(n[r]instanceof p$1))throw new Error("Illegal Argument");u.push(n[r]);}}else {if(!E(i[0])){if(i[0]instanceof p$1)return te(c(i[0]),t.spatialReference);if(null===i[0])return null;throw new Error("Illegal Argument")}{const n=se(i[0].toArray());for(let r=0;r<n.length;r++)if(null!==n[r]){if(!(n[r]instanceof p$1))throw new Error("Illegal Argument");u.push(n[r]);}}}else for(let r=0;r<i.length;r++)if(null!==i[r]){if(!(i[r]instanceof p$1))throw new Error("Illegal Argument");u.push(i[r]);}return 0===u.length?null:k(u)}))},n.functions.difference=function(t,e){return n.standardFunctionAsync(t,e,(function(n,t,e){return en(e=se(e)),null!==e[0]&&null===e[1]?c(e[0]):null===e[0]?null:R(e[0],e[1])}))},n.functions.symmetricdifference=function(t,e){return n.standardFunctionAsync(t,e,(function(n,t,e){return en(e=se(e)),null===e[0]&&null===e[1]?null:null===e[0]?c(e[1]):null===e[1]?c(e[0]):E$1(e[0],e[1])}))},n.functions.clip=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,2,2),!(t[1]instanceof M)&&null!==t[1])throw new Error("Illegal Argument");if(null===t[0])return null;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");return null===t[1]?null:l(t[0],t[1])}))},n.functions.cut=function(t,e){return n.standardFunctionAsync(t,e,(function(n,t,e){if(e=se(e),J(e,2,2),!(e[1]instanceof m)&&null!==e[1])throw new Error("Illegal Argument");if(null===e[0])return [];if(!(e[0]instanceof p$1))throw new Error("Illegal Argument");return null===e[1]?[c(e[0])]:y(e[0],e[1])}))},n.functions.area=function(r$1,e){return n.standardFunctionAsync(r$1,e,(function(n,e,u){if(J(u,1,2),null===(u=se(u))[0])return 0;if(k$1(u[0]))return u[0].sumArea(r(O$1(u[1],-1)),!1,r$1.abortSignal).then((n=>{if(r$1.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(u[0])||E(u[0])){const n=fe(u[0],r$1.spatialReference);return null===n?0:W(n,r(O$1(u[1],-1)))}if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");return W(u[0],r(O$1(u[1],-1)))}))},n.functions.areageodetic=function(r$1,e){return n.standardFunctionAsync(r$1,e,(function(n,e,u){if(J(u,1,2),null===(u=se(u))[0])return 0;if(k$1(u[0]))return u[0].sumArea(r(O$1(u[1],-1)),!0,r$1.abortSignal).then((n=>{if(r$1.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(u[0])||E(u[0])){const n=fe(u[0],r$1.spatialReference);return null===n?0:K$1(n,r(O$1(u[1],-1)))}if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");return K$1(u[0],r(O$1(u[1],-1)))}))},n.functions.length=function(r,t){return n.standardFunctionAsync(r,t,(function(n,t,u){if(J(u,1,2),null===(u=se(u))[0])return 0;if(k$1(u[0]))return u[0].sumLength(a(O$1(u[1],-1)),!1,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(u[0])||E(u[0])){const n=ce(u[0],r.spatialReference);return null===n?0:F(n,a(O$1(u[1],-1)))}if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");return F(u[0],a(O$1(u[1],-1)))}))},n.functions.lengthgeodetic=function(r,t){return n.standardFunctionAsync(r,t,(function(n,t,u){if(J(u,1,2),null===(u=se(u))[0])return 0;if(k$1(u[0]))return u[0].sumLength(a(O$1(u[1],-1)),!0,r.abortSignal).then((n=>{if(r.abortSignal.aborted)throw new Error("Operation has been cancelled.");return n}));if(Z(u[0])||E(u[0])){const n=ce(u[0],r.spatialReference);return null===n?0:M$1(n,a(O$1(u[1],-1)))}if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");return M$1(u[0],a(O$1(u[1],-1)))}))},n.functions.distance=function(r,t){return n.standardFunctionAsync(r,t,(function(n,t,u){u=se(u),J(u,2,3);let l=u[0];(Z(u[0])||E(u[0]))&&(l=me(u[0],r.spatialReference));let a$1=u[1];if((Z(u[1])||E(u[1]))&&(a$1=me(u[1],r.spatialReference)),!(l instanceof p$1))throw new Error("Illegal Argument");if(!(a$1 instanceof p$1))throw new Error("Illegal Argument");return m$1(l,a$1,a(O$1(u[2],-1)))}))},n.functions.distancegeodetic=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){t=se(t),J(t,2,3);const u=t[0],l=t[1];if(!(u instanceof b))throw new Error("Illegal Argument");if(!(l instanceof b))throw new Error("Illegal Argument");const f=new m({paths:[],spatialReference:u.spatialReference});return f.addPath([u,l]),M$1(f,a(O$1(t[2],-1)))}))},n.functions.densify=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,2,3),null===t[0])return null;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");const u=X(t[1]);if(isNaN(u))throw new Error("Illegal Argument");if(u<=0)throw new Error("Illegal Argument");return t[0]instanceof j$1||t[0]instanceof m?P$1(t[0],u,a(O$1(t[2],-1))):t[0]instanceof M?P$1(tn(t[0]),u,a(O$1(t[2],-1))):t[0]}))},n.functions.densifygeodetic=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,2,3),null===t[0])return null;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");const u=X(t[1]);if(isNaN(u))throw new Error("Illegal Argument");if(u<=0)throw new Error("Illegal Argument");return t[0]instanceof j$1||t[0]instanceof m?U(t[0],u,a(O$1(t[2],-1))):t[0]instanceof M?U(tn(t[0]),u,a(O$1(t[2],-1))):t[0]}))},n.functions.generalize=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,2,4),null===t[0])return null;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");const u=X(t[1]);if(isNaN(u))throw new Error("Illegal Argument");return G(t[0],u,ee(O$1(t[2],!0)),a(O$1(t[3],-1)))}))},n.functions.buffer=function(t,u){return n.standardFunctionAsync(t,u,(function(n,t,u){if(u=se(u),J(u,2,3),null===u[0])return null;if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");const l=X(u[1]);if(isNaN(l))throw new Error("Illegal Argument");return 0===l?c(u[0]):V(u[0],l,a(O$1(u[2],-1)))}))},n.functions.buffergeodetic=function(t,u){return n.standardFunctionAsync(t,u,(function(n,t,u){if(u=se(u),J(u,2,3),null===u[0])return null;if(!(u[0]instanceof p$1))throw new Error("Illegal Argument");const l=X(u[1]);if(isNaN(l))throw new Error("Illegal Argument");return 0===l?c(u[0]):b$1(u[0],l,a(O$1(u[2],-1)))}))},n.functions.offset=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,2,6),null===t[0])return null;if(!(t[0]instanceof j$1||t[0]instanceof m))throw new Error("Illegal Argument");const u=X(t[1]);if(isNaN(u))throw new Error("Illegal Argument");const f=X(O$1(t[4],10));if(isNaN(f))throw new Error("Illegal Argument");const s=X(O$1(t[5],0));if(isNaN(s))throw new Error("Illegal Argument");return I(t[0],u,a(O$1(t[2],-1)),K(O$1(t[3],"round")).toLowerCase(),f,s)}))},n.functions.rotate=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){t=se(t),J(t,2,3);let e=t[0];if(null===e)return null;if(!(e instanceof p$1))throw new Error("Illegal Argument");e instanceof M&&(e=j$1.fromExtent(e));const u=X(t[1]);if(isNaN(u))throw new Error("Illegal Argument");const l=O$1(t[2],null);if(null===l)return q(e,u);if(l instanceof b)return q(e,u,l);throw new Error("Illegal Argument")}))},n.functions.centroid=function(t,e){return n.standardFunctionAsync(t,e,(function(n,e,u$1){if(u$1=se(u$1),J(u$1,1,1),null===u$1[0])return null;let l=u$1[0];if((Z(u$1[0])||E(u$1[0]))&&(l=me(u$1[0],t.spatialReference)),null===l)return null;if(!(l instanceof p$1))throw new Error("Illegal Argument");return l instanceof b?te(c(u$1[0]),t.spatialReference):l instanceof j$1?l.centroid:l instanceof m?h$1(l):l instanceof u?f(l):l instanceof M?l.center:null}))},n.functions.multiparttosinglepart=function(t,e){return n.standardFunctionAsync(t,e,(function(n,e,u$1){u$1=se(u$1),J(u$1,1,1);const l=[];if(null===u$1[0])return null;if(!(u$1[0]instanceof p$1))throw new Error("Illegal Argument");if(u$1[0]instanceof b)return [te(c(u$1[0]),t.spatialReference)];if(u$1[0]instanceof M)return [te(c(u$1[0]),t.spatialReference)];return J$1(u$1[0]).then((n=>{if(n instanceof j$1){const r=[],t=[];for(let e=0;e<n.rings.length;e++)if(n.isClockwise(n.rings[e])){const t=p$2({rings:[n.rings[e]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(t);}else t.push({ring:n.rings[e],pt:n.getPoint(e,0)});for(let n=0;n<t.length;n++)for(let e=0;e<r.length;e++)if(r[e].contains(t[n].pt)){r[e].addRing(t[n].ring);break}return r}if(n instanceof m){const r=[];for(let t=0;t<n.paths.length;t++){const e=p$2({paths:[n.paths[t]],hasZ:!0===n.hasZ,hazM:!0===n.hasM,spatialReference:n.spatialReference.toJSON()});r.push(e);}return r}if(u$1[0]instanceof u){const n=te(c(u$1[0]),t.spatialReference);for(let r=0;r<n.points.length;r++)l.push(n.getPoint(r));return l}return null}))}))},n.functions.issimple=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,1,1),null===t[0])return !0;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");return v(t[0])}))},n.functions.simplify=function(r,t){return n.standardFunctionAsync(r,t,(function(n,r,t){if(t=se(t),J(t,1,1),null===t[0])return null;if(!(t[0]instanceof p$1))throw new Error("Illegal Argument");return J$1(t[0])}))});}

export { on as registerFunctions };
