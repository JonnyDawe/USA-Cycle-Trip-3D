import { s as s$7, a as a$2 } from './promiseUtils-2ff2b194.js';
import { n as n$2, N as N$2, s as s$8, o as o$1, g as b$1, h as r$3, u as u$3, c as c$2, j as j$1, p as p$1 } from './mathUtils-a477cc74.js';
import { c as s$4, t as t$3 } from './Message-70b34921.js';
import { G, a as G$1, b as R$1, c as I, d as E$1 } from './unitUtils-b17203be.js';
import { r as r$2, c as c$1, i as i$2 } from './mat4-8eb66d33.js';
import { M as M$1, j, m, u as u$1 } from './Polyline-ccd8fb47.js';
import { a as a$1 } from './assets-73c8998f.js';
import { s as s$5, e, t as t$2, b } from './Point-ee7951c3.js';
import { A as A$2 } from './aaBoundingRect-68336c41.js';
import { d as d$2, s as s$6, A as A$1, u as u$2, a as k, P as P$1 } from './SpatialReference-843b1520.js';

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
let o,r$1=null;function n$1(){return !!r$1}function _(){return !!s$4("esri-wasm")}function P(){return o||(o=import('./pe-wasm-5f081ec2.js').then((function(e){return e.p})).then((({default:t})=>t({locateFile:t=>a$1(`esri/geometry/support/${t}`)}))).then((e=>{N$1(e);})),o)}var s$3,E,i$1;!function(e){function t(e,t,o){r$1.ensureCache.prepare();const n=A(o),_=o===n,P=r$1.ensureFloat64(n),s=r$1._pe_geog_to_proj(r$1.getPointer(e),t,P);return s&&d$1(o,t,P,_),s}function o(e,o,r,_){switch(_){case E.PE_TRANSFORM_P_TO_G:return n(e,o,r);case E.PE_TRANSFORM_G_TO_P:return t(e,o,r)}return 0}function n(e,t,o){return _(e,t,o,0)}function _(e,t,o,n){r$1.ensureCache.prepare();const _=A(o),P=o===_,s=r$1.ensureFloat64(_),E=r$1._pe_proj_to_geog_center(r$1.getPointer(e),t,s,n);return E&&d$1(o,t,s,P),E}e.geogToProj=t,e.projGeog=o,e.projToGeog=n,e.projToGeogCenter=_;}(s$3||(s$3={})),function(e){function t(){e.PE_BUFFER_MAX=r$1.PeDefs.prototype.PE_BUFFER_MAX,e.PE_NAME_MAX=r$1.PeDefs.prototype.PE_NAME_MAX,e.PE_MGRS_MAX=r$1.PeDefs.prototype.PE_MGRS_MAX,e.PE_USNG_MAX=r$1.PeDefs.prototype.PE_USNG_MAX,e.PE_DD_MAX=r$1.PeDefs.prototype.PE_DD_MAX,e.PE_DDM_MAX=r$1.PeDefs.prototype.PE_DDM_MAX,e.PE_DMS_MAX=r$1.PeDefs.prototype.PE_DMS_MAX,e.PE_UTM_MAX=r$1.PeDefs.prototype.PE_UTM_MAX,e.PE_PARM_MAX=r$1.PeDefs.prototype.PE_PARM_MAX,e.PE_TYPE_NONE=r$1.PeDefs.prototype.PE_TYPE_NONE,e.PE_TYPE_GEOGCS=r$1.PeDefs.prototype.PE_TYPE_GEOGCS,e.PE_TYPE_PROJCS=r$1.PeDefs.prototype.PE_TYPE_PROJCS,e.PE_TYPE_GEOGTRAN=r$1.PeDefs.prototype.PE_TYPE_GEOGTRAN,e.PE_TYPE_COORDSYS=r$1.PeDefs.prototype.PE_TYPE_COORDSYS,e.PE_TYPE_UNIT=r$1.PeDefs.prototype.PE_TYPE_UNIT,e.PE_TYPE_LINUNIT=r$1.PeDefs.prototype.PE_TYPE_LINUNIT,e.PE_STR_OPTS_NONE=r$1.PeDefs.prototype.PE_STR_OPTS_NONE,e.PE_STR_AUTH_NONE=r$1.PeDefs.prototype.PE_STR_AUTH_NONE,e.PE_STR_AUTH_TOP=r$1.PeDefs.prototype.PE_STR_AUTH_TOP,e.PE_STR_NAME_CANON=r$1.PeDefs.prototype.PE_STR_NAME_CANON,e.PE_PARM_X0=r$1.PeDefs.prototype.PE_PARM_X0,e.PE_PARM_ND=r$1.PeDefs.prototype.PE_PARM_ND,e.PE_TRANSFORM_1_TO_2=r$1.PeDefs.prototype.PE_TRANSFORM_1_TO_2,e.PE_TRANSFORM_2_TO_1=r$1.PeDefs.prototype.PE_TRANSFORM_2_TO_1,e.PE_TRANSFORM_P_TO_G=r$1.PeDefs.prototype.PE_TRANSFORM_P_TO_G,e.PE_TRANSFORM_G_TO_P=r$1.PeDefs.prototype.PE_TRANSFORM_G_TO_P,e.PE_HORIZON_RECT=r$1.PeDefs.prototype.PE_HORIZON_RECT,e.PE_HORIZON_POLY=r$1.PeDefs.prototype.PE_HORIZON_POLY,e.PE_HORIZON_LINE=r$1.PeDefs.prototype.PE_HORIZON_LINE,e.PE_HORIZON_DELTA=r$1.PeDefs.prototype.PE_HORIZON_DELTA;}e.init=t;}(E||(E={})),function(e){const t={},o={},n=e=>{if(e){const t=e.getType();switch(t){case E.PE_TYPE_GEOGCS:e=r$1.castObject(e,r$1.PeGeogcs);break;case E.PE_TYPE_PROJCS:e=r$1.castObject(e,r$1.PeProjcs);break;case E.PE_TYPE_GEOGTRAN:e=r$1.castObject(e,r$1.PeGeogtran);break;default:t&E.PE_TYPE_UNIT&&(e=r$1.castObject(e,r$1.PeUnit));}}return e};function _(){r$1.PeFactory.prototype.initialize(null);}function P(e){return s(E.PE_TYPE_COORDSYS,e)}function s(e,o){let _=null,P=t[e];if(P||(P={},t[e]=P),P.hasOwnProperty(String(o)))_=P[o];else {const t=r$1.PeFactory.prototype.factoryByType(e,o);r$1.compare(t,r$1.NULL)||(_=t,P[o]=_);}return _=n(_),_}function i(e,t){let _=null,P=o[e];if(P||(P={},o[e]=P),P.hasOwnProperty(t))_=P[t];else {const o=r$1.PeFactory.prototype.fromString(e,t);r$1.compare(o,r$1.NULL)||(_=o,P[t]=_);}return _=n(_),_}function p(e){return s(E.PE_TYPE_GEOGCS,e)}function u(e){return s(E.PE_TYPE_GEOGTRAN,e)}function a(e){return r$1.PeFactory.prototype.getCode(e)}function c(e){return s(E.PE_TYPE_PROJCS,e)}function g(e){return s(E.PE_TYPE_UNIT,e)}e.initialize=_,e.coordsys=P,e.factoryByType=s,e.fromString=i,e.geogcs=p,e.geogtran=u,e.getCode=a,e.projcs=c,e.unit=g;}(i$1||(i$1={}));let p=null;var u,a,c,g,T,f,O$1,S,l;function N$1(e){function t(e,t,o){e[t]=o(e[t]);}r$1=e,E.init(),u.init(),T.init(),O$1.init(),S.init(),p=class extends r$1.PeGCSExtent{destroy(){r$1.destroy(this);}};const o=[r$1.PeDatum,r$1.PeGeogcs,r$1.PeGeogtran,r$1.PeObject,r$1.PeParameter,r$1.PePrimem,r$1.PeProjcs,r$1.PeSpheroid,r$1.PeUnit];for(const r of o)t(r.prototype,"getName",(e=>function(){return e.call(this,new Array(E.PE_NAME_MAX))}));for(const P of [r$1.PeGeogtran,r$1.PeProjcs])t(P.prototype,"getParameters",(e=>function(){const t=new Array(E.PE_PARM_MAX);let o=e.call(this);for(let e=0;e<t.length;e++){const n=r$1.getValue(o,"*");t[e]=n?r$1.wrapPointer(n,r$1.PeParameter):null,o+=Int32Array.BYTES_PER_ELEMENT;}return t}));t(r$1.PeHorizon.prototype,"getCoord",(e=>function(){const t=this.getSize();if(!t)return null;const o=[];return d$1(o,t,e.call(this)),o})),t(r$1.PeGTlistExtendedEntry.prototype,"getEntries",(e=>{const t=r$1._pe_getPeGTlistExtendedGTsSize();return function(){let o=null;const n=e.call(this);if(!r$1.compare(n,r$1.NULL)){o=[n];const e=this.getSteps();if(e>1){const _=r$1.getPointer(n);for(let n=1;n<e;n++)o.push(r$1.wrapPointer(_+t*n,r$1.PeGTlistExtendedGTs));}}return o}}));const n=r$1._pe_getPeHorizonSize(),_=e=>function(){let t=this._cache;if(t||(t=new Map,this._cache=t),t.has(e))return t.get(e);let o=null;const _=e.call(this);if(!r$1.compare(_,r$1.NULL)){o=[_];const e=_.getNump();if(e>1){const t=r$1.getPointer(_);for(let _=1;_<e;_++)o.push(r$1.wrapPointer(t+n*_,r$1.PeHorizon));}}return t.set(e,o),o};t(r$1.PeProjcs.prototype,"horizonGcsGenerate",_),t(r$1.PeProjcs.prototype,"horizonPcsGenerate",_),r$1.PeObject.prototype.toString=function(e=E.PE_STR_OPTS_NONE){r$1.ensureCache.prepare();const t=r$1.getPointer(this),o=r$1.ensureInt8(new Array(E.PE_BUFFER_MAX));return r$1.UTF8ToString(r$1._pe_object_to_string_ext(t,e,o))};}function y(e){if(!e)return;const t=r$1.getClass(e);if(!t)return;const o=r$1.getCache(t);if(!o)return;const n=r$1.getPointer(e);n&&delete o[n];}function M(e,t){const o=[],n=new Array(t);for(let _=0;_<e;_++)o.push(r$1.ensureInt8(n));return o}function A(e){let t;return Array.isArray(e[0])?(t=[],e.forEach((e=>{t.push(e[0],e[1]);}))):t=e,t}function d$1(e,t,o,n=!1){if(n)for(let _=0;_<2*t;_++)e[_]=r$1.getValue(o+_*Float64Array.BYTES_PER_ELEMENT,"double");else {const n=0===e.length;for(let _=0;_<t;_++)n&&(e[_]=new Array(2)),e[_][0]=r$1.getValue(o,"double"),e[_][1]=r$1.getValue(o+Float64Array.BYTES_PER_ELEMENT,"double"),o+=2*Float64Array.BYTES_PER_ELEMENT;}}!function(e){let t;function o(){e.PE_GTLIST_OPTS_COMMON=r$1.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,t=r$1._pe_getPeGTlistExtendedEntrySize();}function n(e,o,n,_,P,s){let E=null;const i=new r$1.PeInteger(s);try{const p=r$1.PeGTlistExtended.prototype.getGTlist(e,o,n,_,P,i);if((s=i.val)&&(E=[p],s>1)){const e=r$1.getPointer(p);for(let o=1;o<s;o++)E.push(r$1.wrapPointer(e+t*o,r$1.PeGTlistExtendedEntry));}}finally{r$1.destroy(i);}return E}e.init=o,e.getGTlist=n;}(u||(u={})),function(e){function t(e){if(e&&e.length){for(const t of e)y(t),t.getEntries().forEach((e=>{y(e);const t=e.getGeogtran();y(t),t.getParameters().forEach(y),[t.getGeogcs1(),t.getGeogcs2()].forEach((e=>{y(e);const t=e.getDatum();y(t),y(t.getSpheroid()),y(e.getPrimem()),y(e.getUnit());}));}));r$1.PeGTlistExtendedEntry.prototype.Delete(e[0]);}}e.destroy=t;}(a||(a={})),function(e){function t(e,t,o,n,_){r$1.ensureCache.prepare();const P=A(o),s=o===P,E=r$1.ensureFloat64(P);let i=0;n&&(i=r$1.ensureFloat64(n));const p=r$1._pe_geog_to_geog(r$1.getPointer(e),t,E,i,_);return p&&d$1(o,t,E,s),p}e.geogToGeog=t;}(c||(c={})),function(e){const t=(e,t,o,n,_,P)=>{let s,i;switch(r$1.ensureCache.prepare(),e){case"dd":s=r$1._pe_geog_to_dd,i=E.PE_DD_MAX;break;case"ddm":s=r$1._pe_geog_to_ddm,i=E.PE_DDM_MAX;break;case"dms":s=r$1._pe_geog_to_dms,i=E.PE_DMS_MAX;}let p=0;t&&(p=r$1.getPointer(t));const u=A(n),a=r$1.ensureFloat64(u),c=M(o,i),g=s(p,o,a,_,r$1.ensureInt32(c));if(g)for(let E=0;E<o;E++)P[E]=r$1.UTF8ToString(c[E]);return g},o=(e,t,o,n,_)=>{let P;switch(r$1.ensureCache.prepare(),e){case"dd":P=r$1._pe_dd_to_geog;break;case"ddm":P=r$1._pe_ddm_to_geog;break;case"dms":P=r$1._pe_dms_to_geog;}let s=0;t&&(s=r$1.getPointer(t));const E=n.map((e=>r$1.ensureString(e))),i=r$1.ensureInt32(E),p=r$1.ensureFloat64(new Array(2*o)),u=P(s,o,i,p);return u&&d$1(_,o,p),u};function n(e,o,r,n,_){return t("dms",e,o,r,n,_)}function _(e,t,r,n){return o("dms",e,t,r,n)}function P(e,o,r,n,_){return t("ddm",e,o,r,n,_)}function s(e,t,r,n){return o("ddm",e,t,r,n)}function i(e,o,r,n,_){return t("dd",e,o,r,n,_)}function p(e,t,r,n){return o("dd",e,t,r,n)}e.geog_to_dms=n,e.dms_to_geog=_,e.geog_to_ddm=P,e.ddm_to_geog=s,e.geog_to_dd=i,e.dd_to_geog=p;}(g||(g={})),function(e){function t(){e.PE_MGRS_STYLE_NEW=r$1.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,e.PE_MGRS_STYLE_OLD=r$1.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,e.PE_MGRS_STYLE_AUTO=r$1.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,e.PE_MGRS_180_ZONE_1_PLUS=r$1.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,e.PE_MGRS_ADD_SPACES=r$1.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES;}function o(e,t,o,n,_,P,s){r$1.ensureCache.prepare();let i=0;e&&(i=r$1.getPointer(e));const p=A(o),u=r$1.ensureFloat64(p),a=M(t,E.PE_MGRS_MAX),c=r$1.ensureInt32(a),g=r$1._pe_geog_to_mgrs_extended(i,t,u,n,_,P,c);if(g)for(let E=0;E<t;E++)s[E]=r$1.UTF8ToString(a[E]);return g}function n(e,t,o,n,_){r$1.ensureCache.prepare();let P=0;e&&(P=r$1.getPointer(e));const s=o.map((e=>r$1.ensureString(e))),E=r$1.ensureInt32(s),i=r$1.ensureFloat64(new Array(2*t)),p=r$1._pe_mgrs_to_geog_extended(P,t,E,n,i);return p&&d$1(_,t,i),p}e.init=t,e.geog_to_mgrs_extended=o,e.mgrs_to_geog_extended=n;}(T||(T={})),function(e){function t(e,t,o,n,_,P,s){r$1.ensureCache.prepare();let i=0;e&&(i=r$1.getPointer(e));const p=A(o),u=r$1.ensureFloat64(p),a=M(t,E.PE_MGRS_MAX),c=r$1.ensureInt32(a),g=r$1._pe_geog_to_usng(i,t,u,n,_,P,c);if(g)for(let E=0;E<t;E++)s[E]=r$1.UTF8ToString(a[E]);return g}function o(e,t,o,n){r$1.ensureCache.prepare();let _=0;e&&(_=r$1.getPointer(e));const P=o.map((e=>r$1.ensureString(e))),s=r$1.ensureInt32(P),E=r$1.ensureFloat64(new Array(2*t)),i=r$1._pe_usng_to_geog(_,t,s,E);return i&&d$1(n,t,E),i}e.geog_to_usng=t,e.usng_to_geog=o;}(f||(f={})),function(e){function t(){e.PE_UTM_OPTS_NONE=r$1.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,e.PE_UTM_OPTS_ADD_SPACES=r$1.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,e.PE_UTM_OPTS_NS=r$1.PeNotationUtm.prototype.PE_UTM_OPTS_NS;}function o(e,t,o,n,_){r$1.ensureCache.prepare();let P=0;e&&(P=r$1.getPointer(e));const s=A(o),i=r$1.ensureFloat64(s),p=M(t,E.PE_UTM_MAX),u=r$1.ensureInt32(p),a=r$1._pe_geog_to_utm(P,t,i,n,u);if(a)for(let E=0;E<t;E++)_[E]=r$1.UTF8ToString(p[E]);return a}function n(e,t,o,n,_){r$1.ensureCache.prepare();let P=0;e&&(P=r$1.getPointer(e));const s=o.map((e=>r$1.ensureString(e))),E=r$1.ensureInt32(s),i=r$1.ensureFloat64(new Array(2*t)),p=r$1._pe_utm_to_geog(P,t,E,n,i);return p&&d$1(_,t,i),p}e.init=t,e.geog_to_utm=o,e.utm_to_geog=n;}(O$1||(O$1={})),function(e){const t=new Map;function o(){e.PE_PCSINFO_OPTION_NONE=r$1.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,e.PE_PCSINFO_OPTION_DOMAIN=r$1.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,e.PE_POLE_OUTSIDE_BOUNDARY=r$1.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,e.PE_POLE_POINT=r$1.PePCSInfo.prototype.PE_POLE_POINT;}function n(o,n=e.PE_PCSINFO_OPTION_DOMAIN){let _,P;return t.has(o)&&(P=t.get(o),P[n]&&(_=P[n])),_||(_=r$1.PePCSInfo.prototype.generate(o,n),P||(P=[],t.set(o,P)),P[n]=_),_}e.init=o,e.generate=n;}(S||(S={})),function(e){function t(){return r$1.PeVersion.prototype.version_string()}e.version_string=t;}(l||(l={}));var R=Object.freeze({__proto__:null,get _pe(){return r$1},isLoaded:n$1,isSupported:_,load:P,get PeCSTransformations(){return s$3},get PeDefs(){return E},get PeFactory(){return i$1},get PeGCSExtent(){return p},get PeGTlistExtended(){return u},get PeGTlistExtendedEntry(){return a},get PeGTTransformations(){return c},get PeNotationDms(){return g},get PeNotationMgrs(){return T},get PeNotationUsng(){return f},get PeNotationUtm(){return O$1},get PePCSInfo(){return S},get PeVersion(){return l},_init:N$1});

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
const i=Math.PI/180,t$1=/SPHEROID\[([^\]]+)]/i,r=s$5.radius,n=s$5.eccentricitySquared,s$2={a1:r*n,a2:r*n*r*n,a3:r*n*n/2,a4:r*n*r*n*2.5,a5:r*n+r*n*n/2,a6:1-n},d={4267:{a:6378206.4,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:s$5.radius,f:s$5.flattening},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:e.radius,f:e.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:t$2.radius,f:t$2.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:t$2.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}};

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
let s$1=0;class t{constructor(t=null){this.uid=s$1++,t?(this._wkt=void 0!==t.wkt?t.wkt:null,this._wkid=void 0!==t.wkid?t.wkid:-1,this._isInverse=void 0!==t.isInverse&&!0===t.isInverse):(this._wkt=null,this._wkid=-1,this._isInverse=!1);}static fromGE(s){const i=new t;return i._wkt=s.wkt,i._wkid=s.wkid,i._isInverse=s.isInverse,i}get wkt(){return this._wkt}set wkt(t){this._wkt=t,this.uid=s$1++;}get wkid(){return this._wkid}set wkid(t){this._wkid=t,this.uid=s$1++;}get isInverse(){return this._isInverse}set isInverse(t){this._isInverse=t,this.uid=s$1++;}getInverse(){const s=new t;return s._wkt=this.wkt,s._wkid=this._wkid,s._isInverse=!this.isInverse,s}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
class s{constructor(s){if(this.steps=[],this._cached_projection={},this._chain="",this._gtlistentry=null,s&&s.steps)for(const i of s.steps)i instanceof t?this.steps.push(i):this.steps.push(new t({wkid:i.wkid,wkt:i.wkt,isInverse:i.isInverse}));}static cacheKey(t,s){return [void 0!==t.wkid&&null!==t.wkid?t.wkid.toString():"-1",void 0!==t.wkt&&null!==t.wkt?t.wkt.toString():"",void 0!==s.wkid&&null!==s.wkid?s.wkid.toString():"-1",void 0!==s.wkt&&null!==s.wkt?s.wkt.toString():""].join(",")}static fromGE(i){const e=new s;let n="";for(const s of i.steps){const i=t.fromGE(s);e.steps.push(i),n+=i.uid.toString()+",";}return e._cached_projection={},e._gtlistentry=null,e._chain=n,e}getInverse(){const t=new s;t.steps=[];for(let s=this.steps.length-1;s>=0;s--){const i=this.steps[s];t.steps.push(i.getInverse());}return t}getGTListEntry(){let t="";for(const s of this.steps)t+=s.uid.toString()+",";return t!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=t),this._gtlistentry}assignCachedGe(t,i,e){this._cached_projection[s.cacheKey(t,i)]=e;}getCachedGeTransformation(t,i){let e="";for(const s of this.steps)e+=s.uid.toString()+",";e!==this._chain&&(this._gtlistentry=null,this._cached_projection={},this._chain=e);const n=this._cached_projection[s.cacheKey(t,i)];return void 0===n?null:n}}

/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.20/esri/copyright.txt for details.
*/
let B=null,K=null,L=null,N={};function V(){return !!B&&n$1()}function X(){return !0}function D(n){return t$3(L)&&(L=Promise.all([P(),import('./geometryEngineBase-8f0ef860.js').then((function(n){return n.g})),import('./hydrated-04e645a5.js')])),L.then((([,e,{hydratedAdapter:t}])=>{a$2(n),K=t,B=e.default,B._enableProjection(R);}))}function H(n,e,t=null){return Array.isArray(n)?0===n.length?[]:J(K,n,n[0].spatialReference,e,t):J(K,[n],n.spatialReference,e,t)[0]}function J(n,e,t,r,l=null){if(t$3(t)||t$3(r))return e;if(nn(t,r,l))return e.map((n=>rn(n,t,r)));if(t$3(l)){const n=s.cacheKey(t,r);void 0!==N[n]?l=N[n]:(l=O(t,r,null),t$3(l)&&(l=new s),N[n]=l);}if(t$3(B))throw new Y;return B._project(n,e,t,r,l)}function O(n,e,t=null){if(t$3(B))throw new Y;if(t$3(n)||t$3(e))return null;const r=B._getTransformation(K,n,e,t,null==t?void 0:t.spatialReference);return null!==r?s.fromGE(r):null}class Y extends s$7{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()");}}function nn(n,e,t){return !t&&(!!d$2(n,e)||s$6(n)&&s$6(e)&&!!re(n,e,ie))}async function en(n,e,t,r){if(!V())if(Array.isArray(n)){for(const{source:l,dest:u,geographicTransformation:o}of n)if(!nn(l,u,o))return D(r)}else if(!nn(n,e,t))return D(r)}function tn(n,e){switch(re(n,e,ie)){case qn:return "copy3";case Nn:return "wgs84ToSphericalECEF";case Wn:return "wgs84ToWebMercator";case Yn:return "wgs84ToWGS84ECEF";case zn:return "webMercatorToWGS84";case An:return "webMercatorToSphericalECEF";case Un:return "webMercatorToWGS84ECEF";case $n:return "wgs84ECEFToWGS84";case ne:return "wgs84ECEFToSphericalECEF";case ee:return "wgs84ECEFToWebMercator";case Hn:return "sphericalECEFToWGS84";case Jn:return "sphericalECEFToWebMercator";case Dn:return "sphericalMarsPCPFToMars2000";case Xn:return "sphericalMoonPCPFToMoon2000";case On:return "sphericalECEFToWGS84ECEF";case Ln:return "mars2000ToSphericalPCPF";case Kn:return "moon2000ToSphericalPCPF";default:return null}}function rn(n,e,t){if(!n)return n;if("x"in n){const r=new b;return un(n,e,r,t)?r:null}if("xmin"in n){const r=new M$1;return mn(n,e,r,t)?r:null}if("rings"in n){const r=new j;return pn(n,e,r,t)?r:null}if("paths"in n){const r=new m;return cn(n,e,r,t)?r:null}if("points"in n){const r=new u$1;return sn(n,e,r,t)?r:null}return null}function ln(n,e,t=e.spatialReference,r=0){return !t$3(t)&&un(n,n.spatialReference,e,t,r)}function un(n,e,t,r,l=0){de[0]=n.x,de[1]=n.y;const u=n.z;return de[2]=void 0!==u?u:l,!!xn(de,e,0,de,r,0,1)&&(t.x=de[0],t.y=de[1],t.spatialReference=r,void 0===u?(t.z=void 0,t.hasZ=!1):(t.z=de[2],t.hasZ=!0),void 0===n.m?(t.m=void 0,t.hasM=!1):(t.m=n.m,t.hasM=!0),!0)}function sn(n,e,t,r,l=0){const{points:u,hasZ:o,hasM:s}=n,i=[],a=u.length,c=[];for(const f of u)c.push(f[0],f[1],o?f[2]:l);if(!xn(c,e,0,c,r,0,a))return !1;for(let f=0;f<a;++f){const n=3*f,e=c[n],t=c[n+1];o&&s?i.push([e,t,c[n+2],u[f][3]]):o?i.push([e,t,c[n+2]]):s?i.push([e,t,u[f][2]]):i.push([e,t]);}return t.points=i,t.spatialReference=r,t.hasZ=o,t.hasM=s,!0}function cn(n,e,t,r,l=0){const{paths:u,hasZ:o,hasM:s}=n,i=[];return !!In(u,o,s,e,i,r,l)&&(t.paths=i,t.spatialReference=r,t.hasZ=o,t.hasM=s,!0)}function fn(n,e,t=e.spatialReference,r=0){return !t$3(t)&&pn(n,n.spatialReference,e,t,r)}function pn(n,e,t,r,l=0){const{rings:u,hasZ:o,hasM:s}=n,i=[];return !!In(u,o,s,e,i,r,l)&&(t.rings=i,t.spatialReference=r,t.hasZ=o,t.hasM=s,!0)}function mn(n,e,t,r,l=0){const{xmin:u,ymin:o,xmax:s,ymax:i,hasZ:a,hasM:c}=n;if(!jn(u,o,a?n.zmin:l,e,de,r))return !1;t.xmin=de[0],t.ymin=de[1],a&&(t.zmin=de[2]);return !!jn(s,i,a?n.zmax:l,e,de,r)&&(t.xmax=de[0],t.ymax=de[1],a&&(t.zmax=de[2]),c&&(t.mmin=n.mmin,t.mmax=n.mmax),t.spatialReference=r,!0)}function dn(n,e,t){if(t$3(e)||t$3(t))return null;const r=new b({spatialReference:t});return xn(n,e,0,de,t,0,1)?(r.x=de[0],r.y=de[1],r.z=de[2],r):null}function Mn(n,e,t){return xn(n,e,0,de,t.spatialReference,0,1)?(t.x=de[0],t.y=de[1],t.z=de[2],t):null}function Rn(n,e,t,r=0){de[0]=n.x,de[1]=n.y;const l=n.z;return de[2]=void 0!==l?l:r,xn(de,n.spatialReference,0,e,t,0,1)}function jn(n,e,t,r,l,u){return pe[0]=n,pe[1]=e,pe[2]=t,xn(pe,r,0,l,u,0,1)}function wn(n,e,t,r){return !(t$3(e)||t$3(r)||n.length<2)&&(2===n.length&&(pe[0]=n[0],pe[1]=n[1],pe[2]=0,n=pe),xn(n,e,0,t,r,0,1))}function yn(n,e){de[0]=n.x,de[1]=n.y;const t=n.z;return de[2]=void 0!==t?t:0,En(de,n.spatialReference,e)}function En(n,e,t){return gn(n,e,t)}function gn(n,e,t){if(t$3(e))return !1;const r=vn(e,oe),l=te[r][6];return !t$3(l)&&(l(n,0,pe,0),t!==pe&&(t[0]=pe[0],t[1]=pe[1],t.length>2&&(t[2]=pe[2])),!0)}function xn(n,e,t,r,l,o,s=1){const i=re(e,l,ie);if(t$3(i))return !1;if(i===qn){if(n===r&&t===o)return !0;const e=t+3*s;for(let l=t,u=o;l<e;l++,u++)r[u]=n[l];return !0}const a=t+3*s;for(let u=t,c=o;u<a;u+=3,c+=3)i(n,u,r,c);return !0}function Pn(n,e,t,r,l){r$3(de,n),u$3(Me,n,e),wn(de,t,de,l),wn(Me,t,Me,l),c$2(r,Me,de),j$1(r,r);}function In(n,e,t,r,l,u,o=0){const s=new Array;for(const a of n)for(const n of a)s.push(n[0],n[1],e?n[2]:o);if(!xn(s,r,0,s,u,0,s.length/3))return !1;let i=0;l.length=0;for(const a of n){const n=new Array;for(const r of a)e&&t?n.push([s[i++],s[i++],s[i++],r[3]]):e?n.push([s[i++],s[i++],s[i++]]):t?(n.push([s[i++],s[i++],r[2]]),i++):(n.push([s[i++],s[i++]]),i++);l.push(n);}return !0}function Tn(n,e,t,r){if(t$3(e)||t$3(r))return !1;const l=le(e,r,ae);if(l.projector===qn)return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],!0;if(t$3(l.projector))return !1;const{source:o,dest:s}=l;if(3===s.spatialReferenceId){const e=te[o.spatialReferenceId][2];if(t$3(e))return !1;e(n,0,he,0);const r=Math.abs(ce*he[1])+Math.asin(n[3]/(s$5.radius+n[2]));if(Wn(he,0,t,0),r>.9999*Math.PI)t[3]=Number.MAX_VALUE;else {const e=1/Math.cos(r);t[3]=e*n[3];}return !0}return l.projector(n,0,t,0),t[3]=n[3]*o.metersPerUnit/s.metersPerUnit,!0}function Cn(n,e,t,r){return null!=n&&(d$2(e,r)?(A$2(t,n),!0):(pe[0]=n[0],pe[1]=n[1],pe[2]=0,!!xn(pe,e,0,pe,r,0,1)&&(t[0]=pe[0],t[1]=pe[1],pe[0]=n[2],pe[1]=n[3],pe[2]=0,!!xn(pe,e,0,pe,r,0,1)&&(t[2]=pe[0],t[3]=pe[1],!0))))}function Fn(n,e,t,r){if(t$3(e)||t$3(r))return !1;const l=vn(e,oe),o=vn(r,se);if(l===o&&0!==l||d$2(e,r))return t[0]=1,t[1]=1,t[2]=1,!0;if(1===l){const e=s$8(n),r=e/Math.sqrt(n[0]*n[0]+n[1]*n[1]),l=e/s$5.radius;if(3===o)return t[0]=r*l,t[1]=r*l,t[2]=1,!0;if(2===o||5===o){const n=180/(s$5.radius*Math.PI);return t[0]=n*r*l,t[1]=n*l,t[2]=1,!0}}return !1}function Sn(n,e,t,r){if(t$3(n)||t$3(r))return !1;const l=vn(n,oe),o=vn(r,se);if(l===o&&!kn(o)&&(0!==l||d$2(n,r)))return r$2(t),c$1(t,t,e),!0;if(kn(o)){let n=0,r=0;const s=te[l][11],i=te[11][o];return !t$3(s)&&!t$3(i)&&(s(e,0,he,0),i(he,0,me,0),n=ce*he[0],r=ce*he[1],bn(r,n,t),t[12]=me[0],t[13]=me[1],t[14]=me[2],!0)}if(3===o&&(2===l||1===l)){const n=te[l][11];if(t$3(n))return !1;n(e,0,he,0);const r=ce*he[1];Wn(he,0,me,0),r$2(t),c$1(t,t,me);const o=1/Math.cos(r);return i$2(t,t,[o,o,1]),!0}return !1}function kn(n){return 1===n||7===n||9===n}function bn(n,e,t){const r=Math.sin(e),l=Math.cos(e),u=Math.sin(n),o=Math.cos(n),s=t;return s[0]=-r,s[4]=-u*l,s[8]=o*l,s[12]=0,s[1]=l,s[5]=-u*r,s[9]=o*r,s[13]=0,s[2]=0,s[6]=o,s[10]=u,s[14]=0,s[3]=0,s[7]=0,s[11]=0,s[15]=1,s}function vn(n,e){return e.spatialReference===n?e.spatialReferenceId:(e.spatialReference=n,"metersPerUnit"in e&&(e.metersPerUnit=G(n,1)),n.wkt===G$1.wkt?e.spatialReferenceId=1:A$1(n)?e.spatialReferenceId=2:u$2(n)?e.spatialReferenceId=3:n.wkt===R$1.wkt?e.spatialReferenceId=4:4490===n.wkid?e.spatialReferenceId=5:n.wkt===I.wkt?e.spatialReferenceId=7:n.wkt===E$1.wkt?e.spatialReferenceId=9:k(n)?e.spatialReferenceId=8:P$1(n)?e.spatialReferenceId=10:e.spatialReferenceId=0)}function qn(n,e,t,r){n!==t&&(t[r++]=n[e++],t[r++]=n[e++],t[r]=n[e]);}function zn(n,e,t,r){t[r++]=fe*(n[e++]/s$5.radius),t[r++]=fe*(Math.PI/2-2*Math.atan(Math.exp(-1*n[e++]/s$5.radius))),t[r]=n[e];}function An(n,e,t,r){zn(n,e,t,r),Nn(t,r,t,r);}function Un(n,e,t,r){zn(n,e,t,r),Yn(t,r,t,r);}function Gn(n,t,r,l,u){const o=.4999999*Math.PI,s=o$1(ce*n[t+1],-o,o),i=Math.sin(s);r[l++]=ce*n[t]*u.radius,r[l++]=u.halfSemiMajorAxis*Math.log((1+i)/(1-i)),r[l]=n[t+2];}function Wn(n,e,t,r){Gn(n,e,t,r,s$5);}function Zn(n){if(t$3(n))return !1;const e=vn(n,oe);return !!te[e][6]}function _n(n,e,t,r,l=0){const u=r+l,o=Math.cos(t);n[0]=Math.cos(e)*o*u,n[1]=Math.sin(e)*o*u,n[2]=Math.sin(t)*u;}function Bn(n,e,t,r,l){const u=l+n[e+2],o=ce*n[e+1],s=ce*n[e],i=Math.cos(o);t[r++]=Math.cos(s)*i*u,t[r++]=Math.sin(s)*i*u,t[r]=Math.sin(o)*u;}function Kn(n,e$1,t,r){Bn(n,e$1,t,r,e.radius);}function Ln(n,e,t,r){Bn(n,e,t,r,t$2.radius);}function Nn(n,e,t,r){Bn(n,e,t,r,s$5.radius);}function Vn(n,e,t,r,u){const o=n[e],s=n[e+1],i=n[e+2],a=Math.sqrt(o*o+s*s+i*i),c=p$1(i/(0===a?1:a)),f=Math.atan2(s,o);t[r++]=fe*f,t[r++]=fe*c,t[r]=a-u;}function Xn(n,e$1,t,r){Vn(n,e$1,t,r,e.radius);}function Dn(n,e,t,r){Vn(n,e,t,r,t$2.radius);}function Hn(n,e,t,r){Vn(n,e,t,r,s$5.radius);}function Jn(n,e,t,r){Hn(n,e,t,r),Wn(t,r,t,r);}function On(n,e,t,r){Hn(n,e,t,r),Yn(t,r,t,r);}function Qn(n,e,t,r,l){const u=ce*n[e],o=ce*n[e+1],s=n[e+2],i=Math.sin(o),a=Math.cos(o),c=l.radius/Math.sqrt(1-l.eccentricitySquared*i*i);t[r++]=(c+s)*a*Math.cos(u),t[r++]=(c+s)*a*Math.sin(u),t[r++]=(c*(1-l.eccentricitySquared)+s)*i;}function Yn(n,e,t,r){Qn(n,e,t,r,s$5);}function $n(n,e,t,r){const l=s$2,u=n[e],o=n[e+1],s=n[e+2];let i,a,c,f,p,h,m,d,M,R,j,w,y,E,g,x,P,I,T,C,F;i=Math.abs(s),a=u*u+o*o,c=Math.sqrt(a),f=a+s*s,p=Math.sqrt(f),C=Math.atan2(o,u),h=s*s/f,m=a/f,E=l.a2/p,g=l.a3-l.a4/p,m>.3?(d=i/p*(1+m*(l.a1+E+h*g)/p),T=Math.asin(d),R=d*d,M=Math.sqrt(1-R)):(M=c/p*(1-h*(l.a5-E-m*g)/p),T=Math.acos(M),R=1-M*M,d=Math.sqrt(R)),j=1-s$5.eccentricitySquared*R,w=s$5.radius/Math.sqrt(j),y=l.a6*w,E=c-w*M,g=i-y*d,P=M*E+d*g,x=M*g-d*E,I=x/(y/j+P),T+=I,F=P+x*I/2,s<0&&(T=-T),t[r++]=fe*C,t[r++]=fe*T,t[r]=F;}function ne(n,e,t,r){$n(n,e,t,r),Nn(t,r,t,r);}function ee(n,e,t,r){$n(n,e,t,r),Wn(t,r,t,r);}const te={2:{5:null,8:null,10:null,11:qn,6:qn,1:Nn,7:null,9:null,0:null,3:Wn,2:qn,4:Yn},5:{5:qn,8:null,10:null,11:qn,6:qn,1:Nn,7:null,9:null,0:null,3:null,2:null,4:Yn},8:{5:null,8:qn,10:null,11:qn,6:null,1:null,7:Ln,9:null,0:null,3:null,2:null,4:null},10:{5:null,8:null,10:qn,11:qn,6:null,1:null,7:null,9:Kn,0:null,3:null,2:null,4:null},3:{5:null,8:null,10:null,11:zn,6:zn,1:An,7:null,9:null,0:null,3:qn,2:zn,4:Un},4:{5:$n,8:null,10:null,11:$n,6:$n,1:ne,7:null,9:null,0:null,3:ee,2:$n,4:qn},1:{5:Hn,8:null,10:null,11:Hn,6:Hn,1:qn,7:null,9:null,0:null,3:Jn,2:Hn,4:On},7:{5:null,8:Dn,10:null,11:Dn,6:null,1:null,7:qn,9:null,0:null,3:null,2:null,4:null},9:{5:null,8:null,10:Xn,11:Xn,6:null,1:null,7:null,9:qn,0:null,3:null,2:null,4:null},0:{5:null,8:null,10:null,11:null,6:null,1:null,7:null,9:null,0:qn,3:null,2:null,4:null},11:{5:qn,8:qn,10:qn,11:qn,6:qn,1:Nn,7:Ln,9:Kn,0:null,3:Wn,2:qn,4:Yn},6:{5:null,8:null,10:null,11:qn,6:qn,1:Nn,7:null,9:null,0:null,3:null,2:qn,4:Yn}};function re(n,e,t=ue()){return t$3(n)||t$3(e)?null:le(n,e,t).projector}function le(n,e,t){if(t$3(n)||t$3(e)||t.source.spatialReference===n&&t.dest.spatialReference===e)return t;const r=vn(n,t.source),l=vn(e,t.dest);return 0===r&&0===l?d$2(n,e)?t.projector=qn:t.projector=null:t.projector=te[r][l],t}function ue(){return {source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:qn}}const oe={spatialReference:null,spatialReferenceId:0},se={spatialReference:null,spatialReferenceId:0},ie=ue(),ae=ue(),ce=b$1(1),fe=N$2(1),pe=n$2(),he=n$2(),me=n$2(),de=n$2(),Me=n$2();

export { Cn as C, D, En as E, Fn as F, Gn as G, H, J, Mn as M, O, Pn as P, Rn as R, Sn as S, Tn as T, V, X, Zn as Z, _n as _, d as a, t$1 as b, dn as d, en as e, fn as f, i, jn as j, ln as l, nn as n, tn as t, wn as w, xn as x, yn as y };
